<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html b:version='2' class='v2' expr:dir='data:blog.languageDirection' xmlns='http://www.w3.org/1999/xhtml' xmlns:b='http://www.google.com/2005/gml/b' xmlns:data='http://www.google.com/2005/gml/data' xmlns:expr='http://www.google.com/2005/gml/expr'>
<head>
    <meta charset='UTF-8'/>
    <meta content='width=device-width, initial-scale=1.0' name='viewport'/>
    <title><data:blog.pageTitle/></title>
    <b:skin><![CDATA[

    /* Main styles loaded from CDN - See ShopCart-Styles.css */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

]]></b:skin>

<link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/base.css' rel='stylesheet'/>
<link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/header.css' rel='stylesheet'/>
<link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/categories.css' rel='stylesheet'/>
<link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/filters.css' rel='stylesheet'/>
<link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/products.css' rel='stylesheet'/>
<link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/cart.css' rel='stylesheet'/>
<link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/css_modal.css' rel='stylesheet'/>
<link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/forms.css' rel='stylesheet'/>
<link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/widgets.css' rel='stylesheet'/>
<link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/banners.css' rel='stylesheet'/>
<link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/css_lightbox.css' rel='stylesheet'/>
<link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/footer.css' rel='stylesheet'/>
<link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/utilities.css' rel='stylesheet'/>
<link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/qrgen.css' rel='stylesheet'/> 
<link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/qrdownload.css' rel='stylesheet'/>
<link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/scrolling_text.css' rel='stylesheet'/> 
  
  <link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/Disable_selection.css' rel='stylesheet'/> 
  <link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/spinnerr.css' rel='stylesheet'/> 
  <link href='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/css/Sidebar.css' rel='stylesheet'/>


  
    <link href='https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&amp;display=swap' rel='stylesheet'/>
    <link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css' rel='stylesheet'/>
    <link href='https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.min.css' rel='stylesheet'/>
    <link href='https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css' rel='stylesheet'/>
    <link href='https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css' rel='stylesheet'/>
    <link href='https://unpkg.com/aos@2.3.1/dist/aos.css' rel='stylesheet'/>
    <link href='https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800&amp;display=swap' rel='stylesheet'/>
    <link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css' rel='stylesheet'/>
  
  

  
  
</head>
<body>

    <header class='main-header'> 
      <div class='header-top'>
    	<div class='container'>
        	<div style='display: flex; gap: 20px;'>
              doodle
        	</div>
      
         <div style='display: flex; gap: 15px;'>
             <button class='action-btn' id='dbcIcon' title='DBC'>
                 <i class='fa-solid fa-address-card'/>
             </button>


          <button class='action-btn' id='qrIcon' title='Share via QR Code'>
              <i class='fa-solid fa-qrcode'/>
          </button>

          </div>
       </div>
    </div>
      
        
      <!--scrolling-text--> 
      <div class='scrolling-text'>
        <span id='scrolling-text'>Scrolling Text Mn!</span>
      </div>      

                        
    <div class='header-main'>
            <div class='container'>
                <div class='header-content'>
  
        <!--Headder main html--> 
                       
     <div class='logo'>
   		 <a href='/' style='display: flex; align-items: center; gap: 10px; text-decoration: none;'>
        
      <img alt='Store Logo' id='siteLogo' src='https://raw.githubusercontent.com/vsanm01/ecom/refs/heads/main/LMN.png' style='height: 50px; width: 50px; object-fit: contain;'/>

       <div>
			<h1 id='siteName' style='margin: 0; font-size: 24px; color: black; background: #ffd814;'>ShopHub Mn</h1>
			<p id='siteTagline' style='margin: 0; font-size: 12px; color: black; background: #ffd814;'>Think Quality Think Us Mn</p>
        </div>
    </a>
</div>
                    <div class='search-bar'>
                        <input id='searchInput' placeholder='Search for products...' type='text'/>
                        <button onclick='searchProducts()'><i class='fas fa-search'/></button>
                    </div>
                    
                  
                  <div class='header-location' style='display: flex; align-items: center; gap: 8px; color: #6b7280; font-size: 15px;'>
    				<i class='fas fa-map-marker-alt' style='color: #ffd814;'/>
   				 <div>
       				 <div style='font-size: 11px; opacity: 0.8;'>Deliver to</div>
       					 <div id='userLocation' style='font-weight: 600; color: var(--dark-color);'>Select Location</div>
   						 </div>
					 </div>
                  
                      <div class='header-actions'>
                           <button class='action-btn' id='cartBtn' onclick='toggleCart()' title='Shopping Cart'>
                            <i class='fas fa-shopping-cart'/>
                             <span class='badge' id='cartCount'>0</span>
                          </button>
                       </div>
                	</div>
            </div>
        </div>
    </header>
      
      

  
      
       <!--Hero Slider Section -->
<section class='hero-slider'>
    <div class='swiper heroSwiper'>
        <div class='swiper-wrapper'>
            <div class='swiper-slide hero-slide-1'/>
            <div class='swiper-slide hero-slide-2'/>
            <div class='swiper-slide hero-slide-3'/>
            <div class='swiper-slide hero-slide-4'/>
            <div class='swiper-slide hero-slide-5'/>
        </div>
        
         <!--Pagination-->
        <div class='swiper-pagination'/>
    </div>
</section>

  
<!--Flash Sale Banner-->
<section class='flash-sale-banner'>
    <div class='container'>
        <div class='flash-sale-header' data-aos='fade-down'>
            <h2>
                <i class='fas fa-bolt'/> 
                Flash Sale - Limited Time Only!
            </h2>
            <p>Hurry up! Offer ends in:</p>
        </div>
    </div>
</section>
      
      
 <!--scrolling-text2 -->      
     <div class='scrolling-text'>
        <span id='scrolling-text'>Welcome to our store! Check out our amazing products!</span>
    </div>
      
      
    <main class='container' id='products'>
        <div class='category-list' id='categoryList'/>
        
        <div class='filters-section'>
            <div class='filters-row'>
                <div class='filter-group'>
                    <label>Price Range</label>
                   <select id='priceFilter'>
                   <!-- Options will be populated dynamically -->
                    </select>
                </div>
                
                <div class='filter-group'>
                    <label>Sort By</label>
                    <select id='sortFilter'>
                        <option value='featured'>Featured</option>
                        <option value='price-low'>Price: Low to High</option>
                        <option value='price-high'>Price: High to Low</option>
                        <option value='rating'>Highest Rated</option>
                        <option value='newest'>Newest</option>
                    </select>
                </div>
                
                <div class='filter-group'>
                    <label>Min Price</label>
                    <input id='minPrice' placeholder='0' type='number'/>
                </div>
                
                <div class='filter-group'>
                    <label>Max Price</label>
                    <input id='maxPrice' placeholder='1000' type='number'/>
                </div>
                
                <button class='filter-btn' onclick='applyFilters()'>Apply Filters</button>
            </div>
        </div>
        
        <div class='products-grid' id='productsGrid'/>
    </main>
  
    <!-- WhatsApp &amp; Notification Float Buttons -->
    <div class='whatsapp-float'>
        <a class='notification-btn' href='#' id='notificationBtn' onclick='toggleNotifications(event)' title='Notifications'>
            <i class='fas fa-bell'/>
            <span class='notification-badge' id='notificationBadge'>0</span>
            <span class='notification-tooltip'>Notifications</span>
        </a>
        
        <a class='whatsapp-btn' href='https://wa.me/1234567890?text=Hi,%20I%20am%20interested%20in%20your%20products' id='whatsappBtn' target='_blank' title='Chat on WhatsApp'>
            <i class='fab fa-whatsapp'/>
            <span class='whatsapp-tooltip'>Chat with us</span>
        </a>
    </div>
    
    <div class='cart-sidebar' id='cartSidebar'>
        <div class='cart-header'>
            <h3><i class='fas fa-shopping-cart'/> Shopping Cart</h3>
            <button class='close-cart' onclick='closeCart()'><i class='fas fa-times'/></button>
        </div>
        
        <div class='cart-items' id='cartItems'/>
        
        <div class='cart-footer'>
            <div class='cart-total'>
                <span>Total:</span>
                <span id='cartTotal'>-</span>
            </div>
            <button class='btn-checkout' onclick='openCheckoutModal()'>
                <i class='fas fa-lock'/> Proceed to Checkout
            </button>
        </div>
    </div>
    
    <div class='modal' id='quickViewModal'>
        <div class='modal-content'>
            <button class='modal-close' onclick='closeModal()'><i class='fas fa-times'/></button>
            <div class='modal-body' id='quickViewBody'/>
        </div>
    </div>
    
  
  
  
<div class='modal' id='checkoutModal'>
    <div class='modal-content checkout-modal-content'>
        <button class='modal-close' onclick='closeCheckoutModal()'><i class='fas fa-times'/></button>
        <div style='padding: 0;'>
            <h3 style='margin-bottom: 20px;'>Checkout</h3>
            <form id='checkoutForm'>
                <div class='form-group has-title'>
                    <label class='form-label' for='customerName'>Full Name *</label>
                    <input class='form-input' id='customerName' placeholder='Enter your full name' required='' type='text'/>
                    <span class='error-message' id='nameError'>Please enter your full name</span>
                </div>
                
                <div class='form-group has-title'>
                    <label class='form-label' for='customerPhone'>Mobile Number *</label>
                    <input class='form-input' id='customerPhone' placeholder='Enter 10-digit mobile number' required='' type='tel'/>
                    <span class='error-message' id='phoneError'>Please enter a valid 10-digit mobile number</span>
                </div>
                
                <div class='form-group has-title'>
                    <label class='form-label' for='customerEmail'>Email ID <span class='optional-badge'>(Optional)</span></label>
                    <input class='form-input' id='customerEmail' placeholder='Enter your email address' type='email'/>
                    <span class='error-message' id='emailError'>Please enter a valid email address</span>
                </div>
                
                <div class='form-group has-title'>
                    <label class='form-label' for='customerAddress'>Delivery Address *</label>
                    <textarea class='form-input' id='customerAddress' placeholder='Enter your complete delivery address' required='' rows='3'/>
                    <span class='error-message' id='addressError'>Please enter your delivery address</span>
                </div>
                
                <div class='form-group'>
                    <label class='form-label'>Delivery Option *</label>
                    <div class='radio-group'>
                        <div class='radio-item'>
                            <input id='pickup' name='delivery' type='radio' value='pickup'/>
                            <label for='pickup'>Store Pickup</label>
                        </div>
                        <div class='radio-item'>
                            <input checked='' id='homeDelivery' name='delivery' type='radio' value='home'/>
                            <label for='homeDelivery'>Home Delivery</label>
                        </div>
                    </div>
                </div>
                
                <button class='order-btn' onclick='processOrder(); return false;' type='button'>
                    <i class='fas fa-lock'/> Place Order
                </button>
                <button class='order-btn' onclick='closeCheckoutModal(); return false;' style='background: #6c757d; margin-top: 0.5rem;' type='button'>
                    Cancel
                </button>
            </form>
        </div>
    </div>
</div>
  
  
    
  
  
  <!-- Back to Top Button -->
<div id='backToTop' onclick='scrollToTop()' style='background: #37475a; color: white; text-align: center; padding: 15px; cursor: pointer; font-size: 13px; font-weight: 500; transition: background 0.3s;'>
    Back to top
</div>

<footer class='main-footer' style='background: #232f3e; color: #ddd; padding: 60px 0 20px;'>
    <div class='container'>
        <!-- Main Footer Content -->
        <div class='footer-content' style='display: grid; grid-template-columns: repeat(4, 1fr); gap: 40px; margin-bottom: 40px; padding-bottom: 40px; border-bottom: 1px solid #3a4553;'>
            
            <!-- Column 1: Get to Know Us -->
            <div class='footer-section'>
                <h4 style='color: white; font-size: 16px; font-weight: 700; margin-bottom: 20px;'>Get to Know Us</h4>
                <ul style='list-style: none; padding: 0; margin: 0;'>
                    <li style='margin-bottom: 10px;'><a href='javascript:void(0);' onclick='GoogleSheetsModal.showCell(&quot;About Us&quot;, &quot;Sheet5&quot;, &quot;B2&quot;);' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'>About Us</a></li>
                    <li style='margin-bottom: 10px;'><a href='#' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'>Careers</a></li>
                    <li style='margin-bottom: 10px;'><a href='#' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'>Blog</a></li>
                    <li style='margin-bottom: 10px;'><a href='#' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'>Investor Relations</a></li>
                    <li style='margin-bottom: 10px;'><a href='#' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'>Our Devices</a></li>
                </ul>
            </div>
            
            <!-- Column 2: Connect With Us -->
            <div class='footer-section'>
                <h4 style='color: white; font-size: 16px; font-weight: 700; margin-bottom: 20px;'>Connect With Us</h4>
                <ul style='list-style: none; padding: 0; margin: 0;'>
                    <li style='margin-bottom: 10px;'><a href='#' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'><i class='fab fa-facebook'/> Facebook</a></li>
                    <li style='margin-bottom: 10px;'><a href='#' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'><i class='fab fa-twitter'/> Twitter</a></li>
                    <li style='margin-bottom: 10px;'><a href='#' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'><i class='fab fa-instagram'/> Instagram</a></li>
                    <li style='margin-bottom: 10px;'><a href='javascript:void(0);' onclick='GoogleSheetsModal.showCell(&quot;Contact Us&quot;, &quot;Sheet3&quot;, &quot;B85&quot;);' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'><i class='fas fa-envelope'/> Contact Us</a></li>
                    <li style='margin-bottom: 10px;'><a href='#' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'><i class='fas fa-map-marker-alt'/> Store Locator</a></li>
                </ul>
            </div>
            
            <!-- Column 3: Make Money with Us -->
            <div class='footer-section'>
                <h4 style='color: white; font-size: 16px; font-weight: 700; margin-bottom: 20px;'>Make Money with Us</h4>
                <ul style='list-style: none; padding: 0; margin: 0;'>
                    <li style='margin-bottom: 10px;'><a href='#' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'>Sell on Our Platform</a></li>
                    <li style='margin-bottom: 10px;'><a href='#' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'>Become an Affiliate</a></li>
                    <li style='margin-bottom: 10px;'><a href='#' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'>Advertise Your Products</a></li>
                    <li style='margin-bottom: 10px;'><a href='#' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'>Self-Publish with Us</a></li>
                    <li style='margin-bottom: 10px;'><a href='#' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'>We&#39;re Hiring</a></li>
                </ul>
            </div>
            
            <!-- Column 4: Let Us Help You -->
            <div class='footer-section'>
                <h4 style='color: white; font-size: 16px; font-weight: 700; margin-bottom: 20px;'>Let Us Help You</h4>
                <ul style='list-style: none; padding: 0; margin: 0;'>
                    <li style='margin-bottom: 10px;'><a href='#' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'>Your Account</a></li>
                    <li style='margin-bottom: 10px;'><a href='#' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'>Your Orders</a></li>
                    <li style='margin-bottom: 10px;'><a href='#' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'>Shipping &amp; Policies</a></li>
                    <li style='margin-bottom: 10px;'><a href='#' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'>Returns &amp; Replacements</a></li>
                    <li style='margin-bottom: 10px;'><a href='javascript:void(0);' onclick='GoogleSheetsModal.showCell(&quot;FAQ&quot;, &quot;Sheet3&quot;, &quot;B37&quot;);' style='color: #ddd; text-decoration: none; font-size: 14px; transition: color 0.2s;'>Help</a></li>
                </ul>
            </div>
        </div>
        
        <!-- Bottom Footer -->
        <div class='footer-bottom' style='text-align: center; padding-top: 20px;'>
            <!-- Logo and Language/Currency -->
            <div style='display: flex; justify-content: center; align-items: center; gap: 30px; margin-bottom: 30px; flex-wrap: wrap;'>
                   <div class='logo h1' id='footerLogo' style='color: #ffd814; font-size: 24px; font-weight: 700;'>
   					 ShopHub Ft
                </div>
                <button style='background: #37475a; color: white; border: 1px solid #565959; padding: 8px 15px; border-radius: 3px; cursor: pointer; font-size: 13px;'>
                    <i class='fas fa-globe'/> English
                </button>
                <button style='background: #37475a; color: white; border: 1px solid #565959; padding: 8px 15px; border-radius: 3px; cursor: pointer; font-size: 13px;'>
                    <i class='fas fa-dollar-sign'/> USD - U.S. Dollar
                </button>
                <button style='background: #37475a; color: white; border: 1px solid #565959; padding: 8px 15px; border-radius: 3px; cursor: pointer; font-size: 13px;'>
                    <i class='fas fa-flag-usa'/> United States
                </button>
            </div>
            
            <!-- Footer Links -->
            <div style='display: flex; justify-content: center; flex-wrap: wrap; gap: 20px; margin-bottom: 20px; font-size: 12px;'>
                <a href='javascript:void(0);' onclick='GoogleSheetsModal.showCell(&quot;Terms of Service&quot;, &quot;Sheet3&quot;, &quot;B87&quot;);' style='color: #ddd; text-decoration: none;'>Conditions of Use</a>
                <a href='javascript:void(0);' onclick='GoogleSheetsModal.showCell(&quot;Privacy Policy&quot;, &quot;Sheet3&quot;, &quot;B86&quot;);' style='color: #ddd; text-decoration: none;'>Privacy Notice</a>
                <a href='#' style='color: #ddd; text-decoration: none;'>Consumer Health Data</a>
                <a href='#' style='color: #ddd; text-decoration: none;'>Your Ads Privacy Choices</a>
            </div>
            
            <!-- Copyright -->
            <div id='footerCopyright' style='color: #ffd814; font-size: 12px; margin-bottom: 10px;'>
             &#169; 1996-2025, ShopHub ft.blogspot.com, Inc. or its affiliates
             </div>
          
			 <!-- Powered by -->
            <div id='Powered by' style='color: #ffd814; font-size: 12px; margin-bottom: 10px;'>
             &#169;     Powered by <a href='https://mylab102.blogspot.com' target='_blank'>102</a>
            </div>

            
            <!-- DMCA Badge -->
            <div style='margin-top: 15px;'>
                <a href='https://www.dmca.com/Protection/Status.aspx' target='_blank'>
                    <img alt='DMCA.com Protection Status' src='https://images.dmca.com/Badges/dmca_protected_sml_120m.png' style='height: 30px;'/>
                </a>
            </div>
        </div>
    </div>
</footer>

<style>
/* Footer Link Hover Effects */
.footer-section a:hover {
    color: white !important;
    text-decoration: underline !important;
}

/* Back to Top Hover */
#backToTop:hover {
    background: #485769 !important;
}

/* Responsive Footer */
@media (max-width: 992px) {
    .footer-content {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}

@media (max-width: 576px) {
    .footer-content {
        grid-template-columns: 1fr !important;
    }
    
    .footer-bottom &gt; div:first-child {
        flex-direction: column !important;
        gap: 15px !important;
    }
}
</style>

<!-- QR Code Modal -->
<div class='modal' id='qrModal'>
    <div class='modal-content qr-modal-content'>
        <div class='modal-header'>
            <h2><i class='fa-solid fa-qrcode'/> Share This Page</h2>
            <button class='close-btn' id='closeModal'>&#215;</button>
        </div>
        <div class='qr-info'>Scan this QR code to share the current page</div>
        <div class='qr-url' id='currentUrl'/>
        
        <!-- QR Code Display Area -->
        <div id='qr-display' style='text-align: center; margin: 20px 0;'/>
        
        <button class='download-btn' id='downloadBtn'>
            <i class='fa-solid fa-download'/> Download QR Code
        </button>
    </div>
</div>

<script>
  
  <!-- Back to Top -->
// Back to Top Functionality
function scrollToTop() {
    window.scrollTo({
        top: 0,
        behavior: &#39;smooth&#39;
    });
}


//  Scroll to show/hide back to top (optional - if you want the bar to appear only after scrolling)


window.addEventListener(&#39;scroll&#39;, function() {
    const backToTop = document.getElementById(&#39;backToTop&#39;);
    if (backToTop) {
        if (window.pageYOffset &gt; 300) {
            backToTop.style.display = &#39;block&#39;;
        } else {
            backToTop.style.display = &#39;block&#39;; // Always visible like Amazon
        }
    }
});
</script>
    
  
<!-- CDN SECTION -->
  
<script src='https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js'/>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js'/>
<script src='https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.min.js'/>
<script src='https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js'/>
<script src='https://unpkg.com/aos@2.3.1/dist/aos.js'/>
<script src='https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js'/>
<script src='https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js'/>
<script src='https://cdn.jsdelivr.net/gh/mcstudios/glightbox/dist/js/glightbox.min.js'/>


<script src='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/js/gdrive_image_handler.js'/>
<script src='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/js/location_detection.js'/> 
<script src='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/js/gsheets_modal.js'/>
<script src='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/js/lightbox_wrapper_lib.js'/>
<script src='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/js/qr_library.js'/>
<script src='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/js/scrolling_textB.js'/>

<script src='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/js/secure_api_cdn.js'/>
<script src='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/js/gsheet_config_loader.js'/>
<script src='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/js/product_sheet_loader.js'/>
<script src='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/js/products_cat_filterB.js'/>
<script src='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/js/product_rendererB.js'/>
<script src='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/js/shopcart_cdn.js'/>
<script src='https://cdn.jsdelivr.net/gh/vsanm01/scart@main//test/js/whatsapp_order_billing.js'/>
  
  
    
   
<script src='https://cdn.jsdelivr.net/gh/vsanm01/ecom/product_quickview2.js'/>
<script src='https://cdn.jsdelivr.net/gh/vsanm01/ecom@main/lightbox_wrapper_lib.js'/>


<script>

//<![CDATA[


// =====================================================
// #️⃣ FIRST: GLOBAL CONFIGURATION (MUST BE AT THE TOP!) 
// ====================================================

const SHOP_CONFIG = {
    // Business Information
    businessName: 'ShopHubSHOP FB',
    businessPhone: '1234512345',
    businessEmail: 'supportFB@shop.com',
    logo: 'https://raw.githubusercontent.com/vsanm01/ecom/refs/heads/main/LFB.png', // Replace with your logo URL
    tagline: 'Think Quality Think Us FB',

    // Location & Currency
    countryCode: '91',
    currency: '₹',
    currencyPosition: 'before',
    defaultLocation: 'Tiruchirappalli',
    
    // Delivery Settings
    deliveryCharge: 123,
    freeDeliveryAbove: 4321,
    
    // Social Media Links
    social: {
        facebook: 'https://www.facebook.com/',
        twitter: 'https://x.com/',
        instagram: 'https://www.instagram.com/'
    },
    
    // WhatsApp Settings
    whatsapp: {
        messageTemplate: 'default',
        includeTimestamp: true,
        includeWebsiteUrl: true,
        useBoldHeaders: true,
        showItemNumbers: true,
        validatePhone: true
    },
    
    features: {
        enableNotifications: true,
        enableQuickView: true,
        enableImageZoom: true,
        enableHeroSlider: true,
        enableFlashSale: true
    },
    
    // Hero Banner Images - ADD THIS
    heroBanners: [
        'https://raw.githubusercontent.com/vsanm01/ecom/refs/heads/main/SFB1.png',
        'https://raw.githubusercontent.com/vsanm01/ecom/refs/heads/main/SFB2.png',
        'https://raw.githubusercontent.com/vsanm01/ecom/refs/heads/main/SFB3.png',
        'https://raw.githubusercontent.com/vsanm01/ecom/refs/heads/main/SFB4.png',
        'https://raw.githubusercontent.com/vsanm01/ecom/refs/heads/main/SFB5.png'
    ]
};


// ============================================
// 2️⃣ THEN: DECLARE OTHER GLOBAL VARIABLES
// ============================================

let cart = [];
let currentCategory = 'all';
let glightboxInstance = null;
let filterManager;
let notifications = [];
let shopCart;
let scrollingText;
let locationDetectorInstance;


// ============================================
// ⭕ INITIALIZE GSRCDN
// ============================================
// --- GSRCDN API CONFIGURATION (Client-side) ---
const GSRCDN_CONFIG = {
    scriptUrl: 'https://script.google.com/macros/s/AKfycbyRiKl7u0d0iQF5weWdlANf0QXVllbckMrhHTgFX9P9YskI6pHfEwB52qis7tmbdbgSiQ/exec', // WEBURl
    apiToken: 'tok_25dc153a0d1a2f86fe34f394f6d6a3cb',    // From your Sheet1 B4
    hmacSecret: 'df62617b8f084303f70ef7f1cf68952302b4960b7a1dfceddd5f2a851685937e', // From your Sheet1 B7 - BE CAREFUL: Exposing this client-side
    rateLimitEnabled: true, // Should match Sheet1 B5
    maxRequests: 100,       // Should match Sheet1 B6
    dataMasking: { enabled: false, fields: [] }, // Should match Sheet1 B8/B9
    checksumValidation: true, // Should match Sheet1 B10
    enforceHttps: true,
    debug: true
};


// ============================================
// ▶️ INITIALIZE SiteBranding
// ============================================
function initSiteBranding() {
    // Set logo
    const logoImg = document.getElementById('siteLogo');
    if (logoImg && SHOP_CONFIG.logo) {
        logoImg.src = SHOP_CONFIG.logo;
        logoImg.onerror = function() {
            this.src = 'https://via.placeholder.com/50x50?text=' + SHOP_CONFIG.businessName.charAt(0);
        };
    }
    
    // Set site name
    const siteName = document.getElementById('siteName');
    if (siteName) {
        siteName.textContent = SHOP_CONFIG.businessName;
    }
    
    // Set tagline
    const tagline = document.getElementById('siteTagline');
    if (tagline) {
        tagline.textContent = SHOP_CONFIG.tagline;
    }
    
    // Set location
    const location = document.getElementById('userLocation');
    if (location) {
        location.textContent = SHOP_CONFIG.defaultLocation;
    }

    const footerLogo = document.getElementById('footerLogo');
    if (footerLogo) {
        footerLogo.innerHTML = SHOP_CONFIG.businessName;
    }
    
    // Update footer copyright
    const footerCopyright = document.getElementById('footerCopyright');
    if (footerCopyright) {
        const currentYear = new Date().getFullYear();
        footerCopyright.textContent = '© 1996-' + currentYear + ', ' + SHOP_CONFIG.businessName + '.blogspot.com, Inc. or its affiliates';
    }
}

// ============================================
// ▶️ Location Functions
// ============================================
// Location selector (optional)
function changeLocation() {
    const newLocation = prompt('Enter your location:', SITE_CONFIG.defaultLocation);
    if (newLocation) {
        document.getElementById('userLocation').textContent = newLocation;
        localStorage.setItem('userLocation', newLocation);
        showNotification('success', 'Location updated to ' + newLocation);
    }
}

// Add click event to location
document.addEventListener('DOMContentLoaded', function() {
    const locationEl = document.querySelector('.header-location');
    if (locationEl) {
        locationEl.addEventListener('click', changeLocation);
    }
});

// ============================================
// ▶️ Currency Formatter
// ============================================
// Currency Formatter Helper
function formatPrice(price, showSymbol = true) {
    const formattedPrice = price.toFixed(2);
    if (!showSymbol) return formattedPrice;
    
    if (SHOP_CONFIG.currencyPosition === 'before') {
        return SHOP_CONFIG.currency + formattedPrice;
    } else {
        return formattedPrice + SHOP_CONFIG.currency;
    }
}

// ============================================
// ▶️ function populatePriceFilter
// ============================================
function populatePriceFilter() {
    const priceFilter = $('#priceFilter');
    const currency = SHOP_CONFIG.currency;
    
    priceFilter.html(`
        <option value='all'>All Prices</option>
        <option value='0-50'>Under ${currency}50</option>
        <option value='50-100'>${currency}50 - ${currency}100</option>
        <option value='100-200'>${currency}100 - ${currency}200</option>
        <option value='200+'>${currency}200+</option>
    `);
}



// Initialize GSRCDN with configuration
GSRCDN.configure(GSRCDN_CONFIG);

// Or use convenience methods
async function addProduct(productData) {
    return await GSRCDN.addData('products', productData);
}


// ============================================
// ▶️ QR CODE WITH PREVIEW AND BRANDED DOWNLOAD
// ============================================


(function() {
    'use strict';
    
    let currentQRCanvas = null;
    
    function createBrandedQRImage(url, businessName, tagline, callback) {
        // Create a temporary container for rendering
        const tempContainer = document.createElement('div');
        tempContainer.style.cssText = 'position: absolute; left: -9999px; top: 0;';
        document.body.appendChild(tempContainer);
        
        // Create branded QR layout
        const brandedDiv = document.createElement('div');
        brandedDiv.style.cssText = 'background: white; padding: 40px; text-align: center; font-family: Arial, sans-serif;';
        
        // Title
        const title = document.createElement('h1');
        title.textContent = businessName || 'My Awesome Website';
        title.style.cssText = 'margin: 0 0 30px 0; font-size: 32px; color: #000; font-weight: bold;';
        brandedDiv.appendChild(title);
        
        // QR Container
        const qrContainer = document.createElement('div');
        qrContainer.style.cssText = 'margin: 0 auto; width: 300px; height: 300px;';
        brandedDiv.appendChild(qrContainer);
        
        // Subtitle
        const subtitle = document.createElement('p');
        subtitle.textContent = tagline || 'Scan to view our website';
        subtitle.style.cssText = 'margin: 30px 0 0 0; font-size: 18px; color: #888;';
        brandedDiv.appendChild(subtitle);
        
        tempContainer.appendChild(brandedDiv);
        
        // Generate QR code
        new QRCode(qrContainer, {
            text: url,
            width: 300,
            height: 300,
            colorDark: '#000000',
            colorLight: '#ffffff',
            correctLevel: QRCode.CorrectLevel.H
        });
        
        // Wait for QR to render, then capture it
        setTimeout(function() {
            if (typeof html2canvas !== 'undefined') {
                html2canvas(brandedDiv, {
                    backgroundColor: '#ffffff',
                    scale: 3,
                    logging: false
                }).then(function(canvas) {
                    currentQRCanvas = canvas;
                    document.body.removeChild(tempContainer);
                    if (callback) callback(canvas);
                });
            } else {
                // Fallback: just get the QR canvas
                const qrCanvas = qrContainer.querySelector('canvas');
                currentQRCanvas = qrCanvas;
                document.body.removeChild(tempContainer);
                if (callback) callback(qrCanvas);
            }
        }, 500);
    }
    
    function displayQRPreview(url, businessName, tagline) {
        const displayDiv = document.getElementById('qr-display');
        displayDiv.innerHTML = '<div style="padding: 20px; color: #666;"><i class="fas fa-spinner fa-spin"></i> Generating QR Code...</div>';
        
        // Create preview container
        const previewContainer = document.createElement('div');
        previewContainer.style.cssText = 'background: white; padding: 30px; display: inline-block; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);';
        
        // Title
        const title = document.createElement('h2');
        title.textContent = businessName || 'My Awesome Website';
        title.style.cssText = 'margin: 0 0 20px 0; font-size: 24px; color: #000; font-weight: bold;';
        previewContainer.appendChild(title);
        
        // QR Container
        const qrDiv = document.createElement('div');
        qrDiv.style.cssText = 'margin: 15px 0;';
        previewContainer.appendChild(qrDiv);
        
        // Subtitle
        const subtitle = document.createElement('p');
        subtitle.textContent = tagline || 'Scan to view our website';
        subtitle.style.cssText = 'margin: 20px 0 0 0; font-size: 14px; color: #888;';
        previewContainer.appendChild(subtitle);
        
        // Generate QR code for preview
        const isMobile = window.innerWidth < 576;
        const qrSize = isMobile ? 250 : 300;
        
        new QRCode(qrDiv, {
            text: url,
            width: qrSize,
            height: qrSize,
            colorDark: '#000000',
            colorLight: '#ffffff',
            correctLevel: QRCode.CorrectLevel.H
        });
        
        displayDiv.innerHTML = '';
        displayDiv.appendChild(previewContainer);
    }
    
    function downloadBrandedQR(filename) {
        if (!currentQRCanvas) {
            alert('Generating download image, please wait...');
            return;
        }
        
        currentQRCanvas.toBlob(function(blob) {
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.download = filename;
            link.href = url;
            link.click();
            
            setTimeout(function() {
                URL.revokeObjectURL(url);
            }, 100);
            
            if (typeof showNotification !== 'undefined') {
                showNotification('success', 'QR Code downloaded successfully!');
            }
        }, 'image/png');
    }
    
    function initQRFunctionality() {
        const qrIcons = document.querySelectorAll('#qrIcon');
        const qrModal = document.getElementById('qrModal');
        const closeModalBtn = document.getElementById('closeModal');
        const downloadBtn = document.getElementById('downloadBtn');
        const currentUrlDiv = document.getElementById('currentUrl');
        
        if (!qrIcons.length || !qrModal) return;
        
        // Open modal and generate QR
        qrIcons.forEach(function(icon) {
            icon.addEventListener('click', function(e) {
                e.preventDefault();
                
                if (typeof QRCode === 'undefined') {
                    alert('QR Code library not loaded. Please refresh the page.');
                    return;
                }
                
                const url = window.location.href;
                const businessName = SHOP_CONFIG.businessName || 'My Awesome Website';
                const tagline = SHOP_CONFIG.tagline || 'Scan to view our website';
                
                currentUrlDiv.textContent = url;
                
                // Show preview
                displayQRPreview(url, businessName, tagline);
                
                // Generate downloadable branded version
                createBrandedQRImage(url, businessName, tagline);
                
                qrModal.classList.add('active');
            });
        });
        
        // Close modal
        if (closeModalBtn) {
            closeModalBtn.addEventListener('click', function() {
                qrModal.classList.remove('active');
            });
        }
        
        // Close on outside click
        qrModal.addEventListener('click', function(e) {
            if (e.target === qrModal) {
                qrModal.classList.remove('active');
            }
        });
        
        // Download button
        if (downloadBtn) {
            downloadBtn.addEventListener('click', function() {
                if (!currentQRCanvas) {
                    alert('Please wait, QR code is being generated...');
                    return;
                }
                
                const businessName = SHOP_CONFIG.businessName || 'website';
                const filename = businessName.replace(/\s+/g, '-').toLowerCase() + '-qrcode.png';
                
                downloadBrandedQR(filename);
            });
        }
        
        // Close on ESC
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && qrModal.classList.contains('active')) {
                qrModal.classList.remove('active');
            }
        });
    }
    
    // Initialize
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initQRFunctionality);
    } else {
        initQRFunctionality();
    }
})();



// ============================================
// ▶️ INITIALIZE PRODUCT SHEET LOADER
// ============================================
const productLoader = new ProductSheetLoader({
    sheetName: 'products',
    imageSize: 400,
    defaultImage: 'https://via.placeholder.com/300x300?text=No+Image',
    useImageHandler: true,
    priceMarkupMultiplier: 1.3,
    onSuccess: (loadedProducts) => {
        console.log('Loaded ' + loadedProducts.length + ' products');
        showNotification('success', 'Loaded ' + loadedProducts.length + ' products');
    },
    onError: (error) => {
        console.error('Error loading products:', error);
        showNotification('error', 'Failed to load products');
    }
});

// =======================
// ▶️ FETCH PRODUCTS 
// =======================

async function fetchProductsFromSheet() {
    products = await productLoader.fetch();
    return products;
}

// Initialize after products are loaded
function initFilterManager() {
    filterManager = new ProductFilterManager({
        products: products,
        categoryContainer: '#categoryList',
        priceFilterSelector: '#priceFilter',
        sortFilterSelector: '#sortFilter',
        minPriceSelector: '#minPrice',
        maxPriceSelector: '#maxPrice',
        onFilterChange: (filteredProducts) => {
            renderProducts(filteredProducts);
        },
        onCategoryChange: (category, filteredProducts) => {
            console.log('Category changed to:', category);
        },
        categoryLabels: {
            all: 'All Products'
        },
        // Custom price ranges (optional)
        priceRanges: [
            { value: '0-50', min: 0, max: 50 },
            { value: '50-100', min: 50, max: 100 },
            { value: '100-200', min: 100, max: 200 },
            { value: '200+', min: 200, max: Infinity }
        ]
    });
    
    filterManager.init();
}

// ============================================
// ▶️ Simplified functions (or remove them)
// ============================================
function renderCategories() {
    if (filterManager) {
        filterManager.renderCategories();
    }
}

function filterByCategory(category) {
    if (filterManager) {
        filterManager.filterByCategory(category);
    }
}

function applyFilters() {
    if (filterManager) {
        filterManager.applyFilters();
    }
}


function isValidURL(string) {
    try {
        new URL(string);
        return true;
    } catch (_) {
        return false;
    }
}


// ============================================
// ▶️ Products render
// ============================================

function renderProducts(productsToRender) {
    ProductRenderer.updateProducts(productsToRender || products);
    ProductRenderer.render(productsToRender);
    
    setTimeout(() => {
        LightboxWrapper.refresh();
    }, 100);
}

function quickView(productId) {
    ProductQuickView.updateProducts(products);
    ProductQuickView.show(productId);
}


function closeModal() {
    ProductQuickView.close();
}



function shareProduct(productId) {
    const product = products.find(p => p.id === productId);
    
    if (navigator.share) {
        navigator.share({
            title: product.title,
            text: 'Check out this product: ' + product.title + ' - ' + formatPrice(product.price),
            url: window.location.href
        }).catch(err => console.log('Error sharing:', err));
    } else {
        const dummy = document.createElement('input');
        document.body.appendChild(dummy);
        dummy.value = window.location.href;
        dummy.select();
        document.execCommand('copy');
        document.body.removeChild(dummy);
        showNotification('success', 'Link copied to clipboard!');
    }
}


// ============================================
// ▶️ CheckoutModal
// ============================================

function openCheckoutModal() {
    if (cart.length === 0) {
        showNotification('warning', 'Your cart is empty!');
        return;
    }
    $('#checkoutModal').addClass('show');
    closeCart();
}

function closeCheckoutModal() {
    $('#checkoutModal').removeClass('show');
    $('#checkoutForm')[0].reset();
    clearAllErrors();
}

function validateEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
}

function validatePhone(phone) {
    const phoneRegex = /^[0-9]{10}$/;
    return phoneRegex.test(phone.replace(/\s+/g, ''));
}

function validateName(name) {
    return name.trim().length >= 3;
}

function validateAddress(address) {
    return address.trim().length >= 10;
}

function showFieldError(fieldId, errorId, message) {
    const field = $('#' + fieldId);
    const error = $('#' + errorId);
    
    field.addClass('error').removeClass('success');
    error.text(message).addClass('show');
}

function hideFieldError(fieldId, errorId) {
    const field = $('#' + fieldId);
    const error = $('#' + errorId);
    
    field.removeClass('error').addClass('success');
    error.removeClass('show');
}

function clearAllErrors() {
    $('.form-input').removeClass('error success');
    $('.error-message').removeClass('show');
}


// ============================================
// ▶️ INITIALIZE SHOPCART CDN LIBRARY
// ============================================

function initShopCart() {
    shopCart = new ShopCart({
        currency: SHOP_CONFIG.currency,
        locale: 'en-US',
        selectors: {
            cartItems: '#cartItems',
            cartCount: '#cartCount',
            cartTotal: '#cartTotal',
            cartSidebar: '#cartSidebar',
        },
        onNotification: (type, message) => {
            showNotification(type, message);
        },
        onCartUpdate: (cartItems, total, itemCount) => {
            cart = cartItems;
            console.log('Cart updated:', { total, itemCount });
        }
    });
    
    shopCart.setProducts(products);
    shopCart.updateCartUI();
}

// Wrapper functions for compatibility
function addToCart(productId, quantity = 1) {
    return shopCart.addToCart(productId, quantity);
}

function removeFromCart(productId) {
    shopCart.removeFromCart(productId);
}

function updateQuantity(productId, change) {
    shopCart.updateQuantity(productId, change);
}

function setQuantity(productId, value) {
    shopCart.setQuantity(productId, value);
}

function toggleCart() {
    shopCart.toggleCart();
}

function closeCart() {
    shopCart.closeCart();
}

function getCartData() {
    return {
        items: shopCart.getCart(),
        total: shopCart.getCartTotal(),
        count: shopCart.getCartCount()
    };
}

function clearCart() {
    shopCart.clearCart();
}



// ============================================
//  ▶️ Initialize WhatsApp Billing System (Using Global Config) 
// ============================================
const whatsappBilling = new WhatsAppBilling({
    whatsappNumber: SHOP_CONFIG.businessPhone,
    countryCode: SHOP_CONFIG.countryCode,
    currency: SHOP_CONFIG.currency,
    currencyPosition: SHOP_CONFIG.currencyPosition,
    messageTemplate: SHOP_CONFIG.whatsapp.messageTemplate,
    includeTimestamp: SHOP_CONFIG.whatsapp.includeTimestamp,
    includeWebsiteUrl: SHOP_CONFIG.whatsapp.includeWebsiteUrl,
    useBoldHeaders: SHOP_CONFIG.whatsapp.useBoldHeaders,
    showItemNumbers: SHOP_CONFIG.whatsapp.showItemNumbers,
    validatePhone: SHOP_CONFIG.whatsapp.validatePhone,
    
    // Callbacks
 onSuccess: function(orderData) {
    shopCart.clearCart();
    closeCheckoutModal();
    showNotification('success', 'Order sent successfully via WhatsApp! 🎉');
},

    onError: function(error) {
        showNotification('error', 'Error: ' + error);
    },
    onBeforeSend: function(orderData) {
        showNotification('info', 'Preparing your order...');
        return true;
    }
});


// ============================================
// ▶️  processOrder function
// ============================================
function processOrder() {
    clearAllErrors();
    
    const name = $('#customerName').val().trim();
    const phone = $('#customerPhone').val().trim();
    const email = $('#customerEmail').val().trim();
    const address = $('#customerAddress').val().trim();
    const delivery = $('input[name="delivery"]:checked').val();
    
    let hasError = false;
    
    // Validate name
    if (!validateName(name)) {
        showFieldError('customerName', 'nameError', 'Please enter your full name (min 3 characters)');
        hasError = true;
    }
    
    // Validate phone
    if (!validatePhone(phone)) {
        showFieldError('customerPhone', 'phoneError', 'Please enter a valid 10-digit mobile number');
        hasError = true;
    }
    
    // Validate email (only if provided)
    if (email !== '' && !validateEmail(email)) {
        showFieldError('customerEmail', 'emailError', 'Please enter a valid email address');
        hasError = true;
    }
    
    // Validate address
    if (!validateAddress(address)) {
        showFieldError('customerAddress', 'addressError', 'Please enter complete delivery address (min 10 characters)');
        hasError = true;
    }
    
    if (hasError) {
        showNotification('warning', 'Please correct the errors in the form');
        return;
    }
    

// Get cart data from ShopCart
const cartData = getCartData();

if (cartData.count === 0) {
    showNotification('warning', 'Your cart is empty!');
    return;
}

    // Calculate totals using global config
const subtotal = cartData.total;



    
    // Use config for delivery charge with free delivery logic
    let deliveryCharge = 0;
    if (delivery !== 'pickup') {
        deliveryCharge = subtotal >= SHOP_CONFIG.freeDeliveryAbove ? 0 : SHOP_CONFIG.deliveryCharge;
    }
    
    const total = subtotal + deliveryCharge;
    

   // Prepare order data
const orderData = {
    name: name,
    mobile: phone,
    email: email || 'Not provided',
    address: address,
    deliveryType: delivery,
        deliveryOption: {
            label: delivery === 'pickup' ? 'Store Pickup' : 'Home Delivery'
        },

     cart: cartData.items.map(item => ({
    name: item.title,
    price: item.price,
    quantity: item.quantity,
    category: item.category || 'General'
})),


        subtotal: subtotal,
        deliveryCharge: deliveryCharge,
        total: total,
        orderId: 'ORD' + Date.now()
    };
    
    // Show free delivery message if applicable
    if (deliveryCharge === 0 && delivery !== 'pickup' && subtotal >= SHOP_CONFIG.freeDeliveryAbove) {
        showNotification('success', 'You got FREE delivery! 🎉');
    }
    
    // Send order via WhatsApp
    whatsappBilling.send(orderData);
}





// ============================================
// ▶️  searchProducts
// ============================================

function searchProducts() {
    const query = $('#searchInput').val().toLowerCase();
    
    if (query.trim() === '') {
        applyFilters();
        return;
    }
    
    const filtered = products.filter(product => 
        product.title.toLowerCase().includes(query) ||
        product.category.toLowerCase().includes(query) ||
        product.description.toLowerCase().includes(query)
    );
    
    renderProducts(filtered);
    showNotification('info', 'Found ' + filtered.length + ' results');
}

$('#searchInput').on('keypress', function(e) {
    if (e.which === 13) {
        searchProducts();
    }
});

function showNotification(type, message) {
    const bgColors = {
        success: 'linear-gradient(to right, #10b981, #059669)',
        error: 'linear-gradient(to right, #ef4444, #dc2626)',
        info: 'linear-gradient(to right, #3b82f6, #2563eb)',
        warning: 'linear-gradient(to right, #f59e0b, #d97706)'
    };
    
    Toastify({
        text: message,
        duration: 3000,
        gravity: 'top',
        position: 'right',
        style: {
            background: bgColors[type]
        }
    }).showToast();
}


// ============================================
// 🟩  initWhatsApp
// ============================================
function initWhatsApp() {
    const whatsappBtn = $('#whatsappBtn');
    
    whatsappBtn.off('click').on('click', function(e) {
        e.preventDefault();
        const message = encodeURIComponent('Hi, I am interested in your products from ' + SHOP_CONFIG.businessName + '!');
        const url = 'https://wa.me/' + SHOP_CONFIG.businessPhone + '?text=' + message;
        window.open(url, '_blank');
    });
}


function toggleNotifications(event) {
    event.preventDefault();
    
    if (notifications.length === 0) {
        showNotification('info', 'No new notifications');
        return;
    }
    
    let notifHtml = '<div style="max-width: 300px;"><h4>Notifications</h4><ul style="list-style: none; padding: 0;">';
    notifications.forEach(notif => {
        notifHtml += '<li style="padding: 10px; border-bottom: 1px solid #e5e7eb;">' + notif + '</li>';
    });
    notifHtml += '</ul></div>';
    
    showNotification('info', 'You have ' + notifications.length + ' notifications');
    
    updateNotificationBadge(0);
    notifications = [];
}

function updateNotificationBadge(count) {
    const badge = $('#notificationBadge');
    badge.text(count);
    if (count > 0) {
        badge.show();
    } else {
        badge.hide();
    }
}

function addNotification(message) {
    notifications.push(message);
    updateNotificationBadge(notifications.length);
}


// Initialize AOS
AOS.init({
    duration: 800,
    once: true,
    offset: 100
});

// ============================================
// ▶️ Initialize Hero Swiper with simple images
// ============================================
function initHeroSwiper() {
    // Set banner images from config if available
    if (SHOP_CONFIG.heroBanners && SHOP_CONFIG.heroBanners.length > 0) {
        SHOP_CONFIG.heroBanners.forEach((imageUrl, index) => {
            const slide = document.querySelector('.hero-slide-' + (index + 1));
            if (slide && imageUrl) {
                slide.style.backgroundImage = 'url(' + imageUrl + ')';
            }
        });
    }
    
    heroSwiper = new Swiper('.heroSwiper', {
        loop: true,
        autoplay: {
            delay: 5000,
            disableOnInteraction: false,
        },
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
        speed: 800,
        effect: 'fade',
        fadeEffect: {
            crossFade: true
        }
    });
}



// ============================================
// ⚡ (document).ready
// ============================================

$(document).ready(async function() {
    //---------------------------------------------
    // INITIALIZE SHEETCONFIG LOADER
    //---------------------------------------------
    const loader = new SheetConfig({
        sheetName: 'Sheet2',
        columnIndex: 1,      // Column B
        startRow: 21,
        targetObject: SHOP_CONFIG,
        verbose: true,
        onSuccess: (config, stats) => {
            console.log('✅ Shop config loaded:', stats);
            showNotification('success', `${stats.loaded} settings loaded`);
        },
        onError: (error) => {
            console.error('❌ Failed to load config:', error);
            showNotification('error', 'DB Connection Failed: ' + error.message);
        }
    });
    
    //---------------------------------------------
    // ADD YOUR PARAMETER MAPPINGS
    //---------------------------------------------
    
    // Group 1: Business Info (rows 21-31)
    loader.addMapping([
        { key: 'businessName', type: 'string' },
        { key: 'businessPhone', type: 'string' },
        { key: 'businessEmail', type: 'string' },
        { key: 'logo', type: 'string' },
        { key: 'tagline', type: 'string' },
        { key: 'countryCode', type: 'string' },
        { key: 'currency', type: 'string' },
        { key: 'currencyPosition', type: 'string' },
        { key: 'defaultLocation', type: 'string' },
        { key: 'deliveryCharge', type: 'number' },
        { key: 'freeDeliveryAbove', type: 'number' }
    ]);
    
    // Hero Banners (row 32)
    loader.addMapping([
        { key: 'heroBanners', type: 'array' }
    ], 32);
    
    // Social Media (rows 45, 46, 49)
    loader.addMapping([
        { key: 'social.facebook', type: 'string', row: 45 },
        { key: 'social.instagram', type: 'string', row: 46 },
        { key: 'social.twitter', type: 'string', row: 49 }
    ]);
    
    // Add more parameters as needed...
    
    //---------------------------------------------
    // LOAD CONFIG THEN FETCH PRODUCTS
    //---------------------------------------------
    await loader.load(); // ⭐ Load config first
    await fetchProductsFromSheet(); // Then load products

    
    // Initialize site branding (now with loaded config)
    initSiteBranding();

 
    // Update business name in logo
    $('.logo h1').html(SHOP_CONFIG.businessName);
    
    // Update header contact information
    $('.header-top span:first').html(SHOP_CONFIG.businessName);
    
    // Update social media links
    if (SHOP_CONFIG.social.facebook !== '#') {
        $('.header-top a:eq(0)').attr('href', SHOP_CONFIG.social.facebook);
    }
    if (SHOP_CONFIG.social.twitter !== '#') {
        $('.header-top a:eq(1)').attr('href', SHOP_CONFIG.social.twitter);
    }
    if (SHOP_CONFIG.social.instagram !== '#') {
        $('.header-top a:eq(2)').attr('href', SHOP_CONFIG.social.instagram);
    }
    
 // Initialize Hero Slider
    initHeroSwiper();

// Initialize Google Sheets Modal Library

GoogleSheetsModal.init(GSRCDN_CONFIG.scriptUrl);


   // Populate price filter with currency
populatePriceFilter();



//---------------------------------------------------------------
// ✨ Enhanced Scrolling Text Configuration (With Color Support)
//----------------------------------------------------------------
const scrollingText = new ScrollingTextManager({
    // Google Sheet Configuration
    sheetName: 'Sheet3',
    
    // Timing Settings
    changeInterval: 5000,        // Change message every 5 seconds
    
    // Feature Toggles
    pauseOnHover: true,          // Pause when user hovers
    randomOrder: false,          // Keep original order (set true to shuffle)
    enableLogging: true,         // Show console logs for debugging
    
    // Default Colors (used when Sheet columns E, F, G are empty)
    defaultTextColor: null,      // Default text color (null = use effect's color)
    defaultBgColor: null,        // Default background color (null = use effect's bg)
    defaultBlinkSpeed: 'medium', // Default blink speed (slow/medium/fast)
    
    // Minimal Fallback Messages (only if Sheet3 fails to load)
    fallbackMessages: [
        { 
            effect: 'neon', 
            message: '⚡ Welcome! Check our latest offers!',
            textColor: 'cyan',
            bgColor: 'black',
            blinkSpeed: 'medium'
        }
    ],
    
    // Success Callback
    onLoad: (messages) => {
        console.log('✅ Loaded ' + messages.length + ' scrolling messages from Sheet3');
        console.log('📊 First message:', messages[0]);
    },
    
    // Error Callback
    onError: (error) => {
        console.error('❌ Scrolling Text Error:', error);
        console.warn('⚠️ Using fallback messages');
    }
});

// Initialize and make globally accessible
await scrollingText.init();
window.scrollingText = scrollingText; // For console debugging




       
// Update all currency displays
function updateCurrencyDisplay() {
    // Update price filter placeholder text
    const currency = SHOP_CONFIG.currency;
    $('#minPrice').attr('placeholder', currency + '0');
    $('#maxPrice').attr('placeholder', currency + '1000');
}

// Call on page load
updateCurrencyDisplay();


// Initialize Hero Slider
initHeroSwiper();

// Refresh AOS on product render
if (typeof AOS !== 'undefined') {
    AOS.refresh();
}


    // Update footer
    $('.footer-section h4:first').html(SHOP_CONFIG.businessName);
    $('.footer-bottom p').html('&copy; 2025 ' + SHOP_CONFIG.businessName + '. All rights reserved.');
    
      //---------------------------------------------
      // INITIALIZE COMPONENTS
      //---------------------------------------------
    
    initWhatsApp();
    updateNotificationBadge(0);
    
    // Show loading state
    $('#productsGrid').html('<div style="grid-column: 1/-1; text-align: center; padding: 60px 20px;"><i class="fas fa-spinner fa-spin" style="font-size: 48px; color: var(--primary-color);"></i><p style="color: #6b7280; margin-top: 20px;">Loading products...</p></div>');
    
   
    // Fetch products
    await fetchProductsFromSheet();
    
    // Initialize filter manager
    initFilterManager();

    //---------------------------------------------   
    // ===== INITIALIZE CDN LIBRARIES =====
   //---------------------------------------------

    // 1. Initialize ProductRenderer
    ProductRenderer.init({
        containerId: 'productsGrid',
        products: products,
        currency: SHOP_CONFIG.currency,
        showDiscount: true,
        showRating: true,
        enableQuickView: true,
        enableShare: true,
        onAddToCart: (productId) => addToCart(productId),
        onQuickView: (productId) => quickView(productId),
        onShare: (productId) => shareProduct(productId)
    });
    
    // 2. Initialize ProductQuickView
    ProductQuickView.init({
        products: products,
       	currency: SHOP_CONFIG.currency,
        onAddToCart: (productId) => {
            addToCart(productId);
            ProductQuickView.close();
        },
        onShare: (productId) => shareProduct(productId),
        onNotification: (type, message) => showNotification(type, message)
    });
    
    // 3. Initialize LightboxWrapper
    LightboxWrapper.init({
        selector: '.glightbox-trigger',
        imageAttr: 'data-image',
        titleAttr: 'data-title',
        descriptionAttr: 'data-description',
        zoomable: true,
        draggable: true,
        closeOnOutsideClick: true,
        useFallback: false
    });
    

// Initialize ShopCart
initShopCart();

// Initial render
renderProducts(products);


//---------------------------------------------
// Real-time validation for form fields
//---------------------------------------------
$('#customerName').on('blur', function() {
    const name = $(this).val();
    if (!validateName(name)) {
        showFieldError('customerName', 'nameError', 'Name must be at least 3 characters long');
    } else {
        hideFieldError('customerName', 'nameError');
    }
});

$('#customerPhone').on('blur', function() {
    const phone = $(this).val();
    if (!validatePhone(phone)) {
        showFieldError('customerPhone', 'phoneError', 'Please enter a valid 10-digit mobile number');
    } else {
        hideFieldError('customerPhone', 'phoneError');
    }
});

$('#customerEmail').on('blur', function() {
    const email = $(this).val().trim();
    if (email !== '' && !validateEmail(email)) {
        showFieldError('customerEmail', 'emailError', 'Please enter a valid email address');
    } else {
        hideFieldError('customerEmail', 'emailError');
    }
});

$('#customerAddress').on('blur', function() {
    const address = $(this).val();
    if (!validateAddress(address)) {
        showFieldError('customerAddress', 'addressError', 'Address must be at least 10 characters long');
    } else {
        hideFieldError('customerAddress', 'addressError');
    }
});

// Clear errors when user starts typing
$('#customerName, #customerPhone, #customerEmail, #customerAddress').on('input', function() {
    $(this).removeClass('error');
    $(this).siblings('.error-message').removeClass('show');
});


});

    


$('#quickViewModal, #checkoutModal').on('click', function(e) {
    if (e.target === this) {
        $(this).removeClass('show');
    }
});

//]]>
</script>

    
    <b:section class='main' id='main' maxwidgets='1' showaddelement='yes'>
      <b:widget id='Blog1' locked='true' title='Blog Posts' type='Blog' version='1'>
        <b:widget-settings>
          <b:widget-setting name='showDateHeader'>true</b:widget-setting>
          <b:widget-setting name='style.textcolor'>#ffffff</b:widget-setting>
          <b:widget-setting name='showShareButtons'>true</b:widget-setting>
          <b:widget-setting name='authorLabel'>by</b:widget-setting>
          <b:widget-setting name='showCommentLink'>true</b:widget-setting>
          <b:widget-setting name='style.urlcolor'>#ffffff</b:widget-setting>
          <b:widget-setting name='showAuthor'>true</b:widget-setting>
          <b:widget-setting name='style.linkcolor'>#ffffff</b:widget-setting>
          <b:widget-setting name='style.unittype'>TextAndImage</b:widget-setting>
          <b:widget-setting name='style.bgcolor'>#ffffff</b:widget-setting>
          <b:widget-setting name='timestampLabel'>-</b:widget-setting>
          <b:widget-setting name='reactionsLabel'/>
          <b:widget-setting name='showAuthorProfile'>true</b:widget-setting>
          <b:widget-setting name='style.layout'>1x1</b:widget-setting>
          <b:widget-setting name='showLabels'>true</b:widget-setting>
          <b:widget-setting name='showLocation'>false</b:widget-setting>
          <b:widget-setting name='postLabelsLabel'>Tags:</b:widget-setting>
          <b:widget-setting name='showTimestamp'>true</b:widget-setting>
          <b:widget-setting name='postsPerAd'>1</b:widget-setting>
          <b:widget-setting name='showBacklinks'>false</b:widget-setting>
          <b:widget-setting name='style.bordercolor'>#ffffff</b:widget-setting>
          <b:widget-setting name='showInlineAds'>false</b:widget-setting>
          <b:widget-setting name='showReactions'>false</b:widget-setting>
        </b:widget-settings>
        <b:includable id='main' var='top'>
          <div style='display:none;'>
            <data:title/>
          </div>
        </b:includable>
        <b:includable id='aboutPostAuthor'>
  <div class='author-name'>
    <a class='g-profile' expr:href='data:post.author.profileUrl' rel='author' title='author profile'>
      <span>
        <data:post.author.name/>
      </span>
    </a>
  </div>
  <div>
    <span class='author-desc'>
      <data:post.author.aboutMe/>
    </span>
  </div>
</b:includable>
        <b:includable id='addComments'>
  <a expr:href='data:post.commentsUrl' expr:onclick='data:post.commentsUrlOnclick'>
    <b:message name='messages.postAComment'/>
  </a>
</b:includable>
        <b:includable id='backlinkDeleteIcon' var='backlink'/>
        <b:includable id='backlinks' var='post'/>
        <b:includable id='blogThisShare'>
  <b:with value='&quot;window.open(this.href, \&quot;_blank\&quot;, \&quot;height=270,width=475\&quot;); return false;&quot;' var='onclick'>
    <b:include name='platformShare'/>
  </b:with>
</b:includable>
        <b:includable id='bylineByName' var='byline'>
  <b:switch var='data:byline.name'>
  <b:case value='share'/>
    <b:include cond='data:post.shareUrl' name='postShareButtons'/>
  <b:case value='comments'/>
    <b:include cond='data:post.allowComments' name='postCommentsLink'/>
  <b:case value='location'/>
    <b:include cond='data:post.location' name='postLocation'/>
  <b:case value='timestamp'/>
    <b:include cond='not data:view.isPage' name='postTimestamp'/>
  <b:case value='author'/>
    <b:include name='postAuthor'/>
  <b:case value='labels'/>
    <b:include cond='data:post.labels' name='postLabels'/>
  <b:case value='icons'/>
    <b:include cond='data:post.emailPostUrl' name='emailPostIcon'/>
  </b:switch>
</b:includable>
        <b:includable id='bylineRegion' var='regionItems'>
  <b:loop values='data:regionItems' var='byline'>
    <b:include data='byline' name='bylineByName'/>
  </b:loop>
</b:includable>
        <b:includable id='comment-form' var='post'>
  <div class='comment-form'>
    <a name='comment-form'/>
    <b:if cond='data:mobile'>
      <h4 id='comment-post-message'>
        <a expr:id='data:widget.instanceId + &quot;_comment-editor-toggle-link&quot;' href='javascript:void(0)'><data:postCommentMsg/></a></h4>
      <p><data:blogCommentMessage/></p>
      <data:blogTeamBlogMessage/>
      <a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/>
      <iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' expr:height='data:cmtIframeInitialHeight' frameborder='0' id='comment-editor' name='comment-editor' src='' style='display: none' width='100%'/>
    <b:else/>
      <h4 id='comment-post-message'><data:postCommentMsg/></h4>
      <p><data:blogCommentMessage/></p>
      <data:blogTeamBlogMessage/>
      <a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/>
      <iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' expr:height='data:cmtIframeInitialHeight' frameborder='0' id='comment-editor' name='comment-editor' src='' width='100%'/>
    </b:if>
    <data:post.cmtfpIframe/>
    <script type='text/javascript'>
      BLOG_CMT_createIframe(&#39;<data:post.appRpcRelayPath/>&#39;);
    </script>
  </div>
</b:includable>
        <b:includable id='commentAuthorAvatar'>
  <div class='avatar-image-container'>
    <img class='author-avatar' expr:src='data:comment.authorAvatarSrc' height='35' width='35'/>
  </div>
</b:includable>
        <b:includable id='commentDeleteIcon' var='comment'>
  <span expr:class='&quot;item-control &quot; + data:comment.adminClass'>
    <b:if cond='data:showCmtPopup'>
      <div class='goog-toggle-button'>
        <div class='goog-inline-block comment-action-icon'/>
      </div>
    <b:else/>
      <a class='comment-delete' expr:href='data:comment.deleteUrl' expr:title='data:top.deleteCommentMsg'>
        <img src='https://resources.blogblog.com/img/icon_delete13.gif'/>
      </a>
    </b:if>
  </span>
</b:includable>
        <b:includable id='commentForm' var='post'>
  <div class='comment-form'>
    <a name='comment-form'/>
    <h4 id='comment-post-message'><data:messages.postAComment/></h4>
    <b:if cond='data:this.messages.blogComment != &quot;&quot;'>
      <p><data:this.messages.blogComment/></p>
    </b:if>
    <b:include data='post' name='commentFormIframeSrc'/>
    <iframe allowtransparency='allowtransparency' class='blogger-iframe-colorize blogger-comment-from-post' expr:height='data:cmtIframeInitialHeight ?: &quot;90px&quot;' frameborder='0' id='comment-editor' name='comment-editor' src='' width='100%'/>
    <data:post.cmtfpIframe/>
    <script type='text/javascript'>
      BLOG_CMT_createIframe(&#39;<data:post.appRpcRelayPath/>&#39;);
    </script>
  </div>
</b:includable>
        <b:includable id='commentFormIframeSrc' var='post'>
  <a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/>
</b:includable>
        <b:includable id='commentItem' var='comment'>
  <div class='comment' expr:id='&quot;c&quot; + data:comment.id'>
    <b:include cond='data:blog.enabledCommentProfileImages' name='commentAuthorAvatar'/>

    <div class='comment-block'>
      <div class='comment-author'>
        <b:if cond='data:comment.authorUrl'>
          <b:message name='messages.authorSaidWithLink'>
            <b:param expr:value='data:comment.author' name='authorName'/>
            <b:param expr:value='data:comment.authorUrl' name='authorUrl'/>
          </b:message>
        <b:else/>
          <b:message name='messages.authorSaid'>
            <b:param expr:value='data:comment.author' name='authorName'/>
          </b:message>
        </b:if>
      </div>
      <div expr:class='&quot;comment-body&quot; + (data:comment.isDeleted ? &quot; deleted&quot; : &quot;&quot;)'>
        <data:comment.body/>
      </div>
      <div class='comment-footer'>
        <span class='comment-timestamp'>
          <a expr:href='data:comment.url' title='comment permalink'>
            <data:comment.timestamp/>
          </a>
          <b:include data='comment' name='commentDeleteIcon'/>
        </span>
      </div>
    </div>
  </div>
</b:includable>
        <b:includable id='commentList' var='comments'>
  <div id='comments-block'>
    <b:loop values='data:comments' var='comment'>
      <b:include data='comment' name='commentItem'/>
    </b:loop>
  </div>
</b:includable>
        <b:includable id='commentPicker' var='post'>
  <b:if cond='data:post.showThreadedComments'>
    <b:include data='post' name='threadedComments'/>
  <b:else/>
    <b:include data='post' name='comments'/>
  </b:if>
</b:includable>
        <b:includable id='comment_count_picker' var='post'>
  <a class='comment-link' expr:href='data:post.addCommentUrl' expr:onclick='data:post.addCommentOnclick'>
    <data:post.commentLabelFull/>:
  </a>
</b:includable>
        <b:includable id='comment_picker' var='post'>
  <b:if cond='data:post.showThreadedComments'>
    <b:include data='post' name='threaded_comments'/>
  <b:else/>
    <b:include data='post' name='comments'/>
  </b:if>
</b:includable>
        <b:includable id='comments' var='post'>
  <div class='comments' id='comments'>
    <a name='comments'/>
    <b:if cond='data:post.allowComments'>
      <h4><data:post.commentLabelFull/>:</h4>

      <b:if cond='data:post.commentPagingRequired'>
        <span class='paging-control-container'>
          <b:if cond='data:post.hasOlderLinks'>
            <a expr:class='data:post.oldLinkClass' expr:href='data:post.oldestLinkUrl'><data:post.oldestLinkText/></a>
              &#160;
            <a expr:class='data:post.oldLinkClass' expr:href='data:post.olderLinkUrl'><data:post.olderLinkText/></a>
              &#160;
          </b:if>

          <data:post.commentRangeText/>

          <b:if cond='data:post.hasNewerLinks'>
            &#160;
            <a expr:class='data:post.newLinkClass' expr:href='data:post.newerLinkUrl'><data:post.newerLinkText/></a>
            &#160;
            <a expr:class='data:post.newLinkClass' expr:href='data:post.newestLinkUrl'><data:post.newestLinkText/></a>
          </b:if>
        </span>
      </b:if>

      <div expr:id='data:widget.instanceId + &quot;_comments-block-wrapper&quot;'>
        <dl expr:class='data:post.avatarIndentClass' id='comments-block'>
          <b:loop values='data:post.comments' var='comment'>
            <dt expr:class='&quot;comment-author &quot; + data:comment.authorClass' expr:id='data:comment.anchorName'>
              <b:if cond='data:comment.favicon'>
                <img expr:src='data:comment.favicon' height='16px' style='margin-bottom:-2px;' width='16px'/>
              </b:if>
              <a expr:name='data:comment.anchorName'/>
              <b:if cond='data:blog.enabledCommentProfileImages'>
                <data:comment.authorAvatarImage/>
              </b:if>
              <b:if cond='data:comment.authorUrl'>
                <a expr:href='data:comment.authorUrl' rel='nofollow'><data:comment.author/></a>
              <b:else/>
                <data:comment.author/>
              </b:if>
              <data:commentPostedByMsg/>
            </dt>
            <dd class='comment-body' expr:id='data:widget.instanceId + data:comment.cmtBodyIdPostfix'>
              <b:if cond='data:comment.isDeleted'>
                <span class='deleted-comment'><data:comment.body/></span>
              <b:else/>
                <p>
                  <data:comment.body/>
                </p>
              </b:if>
            </dd>
            <dd class='comment-footer'>
              <span class='comment-timestamp'>
                <a expr:href='data:comment.url' title='comment permalink'>
                  <data:comment.timestamp/>
                </a>
                <b:include data='comment' name='commentDeleteIcon'/>
              </span>
            </dd>
          </b:loop>
        </dl>
      </div>

      <b:if cond='data:post.commentPagingRequired'>
        <span class='paging-control-container'>
          <a expr:class='data:post.oldLinkClass' expr:href='data:post.oldestLinkUrl'>
            <data:post.oldestLinkText/>
          </a>
          <a expr:class='data:post.oldLinkClass' expr:href='data:post.olderLinkUrl'>
            <data:post.olderLinkText/>
          </a>
          &#160;
          <data:post.commentRangeText/>
          &#160;
          <a expr:class='data:post.newLinkClass' expr:href='data:post.newerLinkUrl'>
            <data:post.newerLinkText/>
          </a>
          <a expr:class='data:post.newLinkClass' expr:href='data:post.newestLinkUrl'>
            <data:post.newestLinkText/>
          </a>
        </span>
      </b:if>

      <p class='comment-footer'>
        <b:if cond='data:post.embedCommentForm'>
          <b:if cond='data:post.allowNewComments'>
            <b:include data='post' name='comment-form'/>
          <b:else/>
            <data:post.noNewCommentsText/>
          </b:if>
        <b:elseif cond='data:post.allowComments'/>
          <a expr:href='data:post.addCommentUrl' expr:onclick='data:post.addCommentOnclick'><data:postCommentMsg/></a>
        </b:if>
      </p>
    </b:if>
    <b:if cond='data:showCmtPopup'>
      <div id='comment-popup'>
        <iframe allowtransparency='true' frameborder='0' id='comment-actions' name='comment-actions' scrolling='no'>
        </iframe>
      </div>
    </b:if>

  </div>
</b:includable>
        <b:includable id='commentsLink'>
  <a class='comment-link' expr:href='data:post.commentsUrl' expr:onclick='data:post.commentsUrlOnclick'>
    <b:if cond='data:post.numberOfComments &gt; 0'>
      <b:message name='messages.numberOfComments'>
        <b:param expr:value='data:post.numberOfComments' name='numComments'/>
      </b:message>
    <b:else/>
      <data:messages.postAComment/>
    </b:if>
  </a>
</b:includable>
        <b:includable id='commentsLinkIframe'>
  <!-- G+ comments, no longer available. The includable is retained for backwards-compatibility. -->
</b:includable>
        <b:includable id='commentsTitle'>
  <h3 class='title'><data:messages.comments/></h3>
</b:includable>
        <b:includable id='defaultAdUnit'>
  <ins class='adsbygoogle' data-ad-format='auto' expr:data-ad-client='data:adClientId ?: data:blog.adsenseClientId' expr:data-ad-host='data:blog.adsenseHostId' expr:style='data:style ?: &quot;display: block;&quot;'>
    <b:attr cond='not data:blog.analytics4' expr:value='data:blog.analyticsAccountNumber' name='data-analytics-uacct'/>
  </ins>
  <script>
   (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</b:includable>
        <b:includable id='emailPostIcon'>
  <span class='byline post-icons'>
    <!-- email post links -->
    <span class='item-action'>
      <a expr:href='data:post.emailPostUrl' expr:title='data:messages.emailPost'>
        <b:include data='{ iconClass: &quot;touch-icon sharing-icon&quot; }' name='emailIcon'/>
      </a>
    </span>
  </span>
</b:includable>
        <b:includable id='facebookShare'>
  <b:with value='&quot;window.open(this.href, \&quot;_blank\&quot;, \&quot;height=430,width=640\&quot;); return false;&quot;' var='onclick'>
    <b:include name='platformShare'/>
  </b:with>
</b:includable>
        <b:includable id='feedLinks'>
  <b:if cond='data:blog.pageType != &quot;item&quot;'> <!-- Blog feed links -->
    <b:if cond='data:feedLinks'>
      <div class='blog-feeds'>
        <b:include data='feedLinks' name='feedLinksBody'/>
      </div>
    </b:if>

  <b:else/> <!--Post feed links -->
    <div class='post-feeds'>
      <b:loop values='data:posts' var='post'>
        <b:include cond='data:post.allowComments and data:post.feedLinks' data='post.feedLinks' name='feedLinksBody'/>
      </b:loop>
    </div>
  </b:if>
</b:includable>
        <b:includable id='feedLinksBody' var='links'>
  <div class='feed-links'>
  <data:feedLinksMsg/>
  <b:loop values='data:links' var='f'>
     <a class='feed-link' expr:href='data:f.url' expr:type='data:f.mimeType' target='_blank'><data:f.name/> (<data:f.feedType/>)</a>
  </b:loop>
  </div>
</b:includable>
        <b:includable id='footerBylines'>
  <b:if cond='data:widgets.Blog.first.footerBylines'>
    <b:loop index='i' values='data:widgets.Blog.first.footerBylines' var='region'>
      <b:if cond='not data:region.items.empty'>
        <div expr:class='&quot;post-footer-line post-footer-line-&quot; + (data:i + 1)'>
          <b:with value='&quot;footer-&quot; + (data:i + 1)' var='regionName'>
            <b:include data='region.items' name='bylineRegion'/>
          </b:with>
        </div>
      </b:if>
    </b:loop>
  </b:if>
</b:includable>
        <b:includable id='googlePlusShare'>
</b:includable>
        <b:includable id='headerByline'>
  <b:if cond='data:widgets.Blog.first.headerByline'>
    <div class='post-header'>
      <div class='post-header-line-1'>
        <b:with value='&quot;header-1&quot;' var='regionName'>
          <b:include data='data:widgets.Blog.first.headerByline.items' name='bylineRegion'/>
        </b:with>
      </div>
    </div>
  </b:if>
</b:includable>
        <b:includable id='homePageLink'>
  <a class='home-link' expr:href='data:blog.homepageUrl'>
    <data:messages.home/>
  </a>
</b:includable>
        <b:includable id='iframeComments' var='post'>
  <!-- G+ comments, no longer available. The includable is retained for backwards-compatibility. -->
</b:includable>
        <b:includable id='iframe_comments' var='post'>
  <!-- G+ comments, no longer available. The includable is retained for backwards-compatibility. -->
</b:includable>
        <b:includable id='inlineAd' var='post'>
  <b:if cond='!data:view.isPreview'>
    <b:if cond='data:this.adCode or data:this.adClientId or data:blog.adsenseClientId'>
      <!-- Ad -->
      <div class='inline-ad'>
        <b:if cond='data:this.adCode != &quot;&quot;'>
          <data:this.adCode/>
        <b:else/>
          <b:include cond='data:this.adClientId or data:blog.adsenseClientId' name='defaultAdUnit'/>
        </b:if>
      </div>
    </b:if>
  <b:else/>
    <div class='inline-ad'>
      <div class='inline-ad-placeholder'>
        <span><b:message name='messages.adsGoHere'/></span>
      </div>
    </div>
  </b:if>
</b:includable>
        <b:includable id='linkShare'>
  <b:with value='&quot;window.prompt(\&quot;Copy to clipboard: Ctrl+C, Enter\&quot;, \&quot;&quot; + data:originalUrl + &quot;\&quot;); return false;&quot;' var='onclick'>
    <b:include name='platformShare'/>
  </b:with>
</b:includable>
        <b:includable id='mobile-index-post' var='post'>
  <div class='mobile-date-outer date-outer'>
    <b:if cond='data:post.dateHeader'>
      <div class='date-header'>
        <span><data:post.dateHeader/></span>
      </div>
    </b:if>

    <div class='mobile-post-outer'>
      <a expr:href='data:post.url'>
        <h3 class='mobile-index-title entry-title' itemprop='name'>
          <data:post.title/>
        </h3>

        <div class='mobile-index-arrow'>&amp;rsaquo;</div>

        <div class='mobile-index-contents'>
          <b:if cond='data:post.thumbnailUrl'>
            <div class='mobile-index-thumbnail'>
              <div class='Image'>
                <img expr:src='data:post.thumbnailUrl'/>
              </div>
            </div>
          </b:if>

          <div class='post-body'>
            <b:if cond='data:post.snippet'><data:post.snippet/></b:if>
          </div>
        </div>

        <div style='clear: both;'/>
      </a>

      <div class='mobile-index-comment'>
        <b:include cond='data:blog.pageType != &quot;static_page&quot;                          and data:post.allowComments                          and data:post.numComments != 0' data='post' name='comment_count_picker'/>
      </div>
    </div>
  </div>
</b:includable>
        <b:includable id='mobile-main' var='top'>
    <!-- posts -->
    <div class='blog-posts hfeed'>

      <b:include data='top' name='status-message'/>

      <b:if cond='data:blog.pageType == &quot;index&quot;'>
        <b:loop values='data:posts' var='post'>
          <b:include data='post' name='mobile-index-post'/>
        </b:loop>
      <b:else/>
        <b:loop values='data:posts' var='post'>
          <b:include data='post' name='mobile-post'/>
        </b:loop>
      </b:if>
    </div>

   <b:include name='mobile-nextprev'/>
</b:includable>
        <b:includable id='mobile-nextprev'>
  <div class='blog-pager' id='blog-pager'>
    <b:if cond='data:newerPageUrl'>
      <div class='mobile-link-button' id='blog-pager-newer-link'>
      <a class='blog-pager-newer-link' expr:href='data:newerPageUrl' expr:id='data:widget.instanceId + &quot;_blog-pager-newer-link&quot;' expr:title='data:newerPageTitle'>&amp;lsaquo;</a>
      </div>
    </b:if>

    <b:if cond='data:olderPageUrl'>
      <div class='mobile-link-button' id='blog-pager-older-link'>
      <a class='blog-pager-older-link' expr:href='data:olderPageUrl' expr:id='data:widget.instanceId + &quot;_blog-pager-older-link&quot;' expr:title='data:olderPageTitle'>&amp;rsaquo;</a>
      </div>
    </b:if>

    <div class='mobile-link-button' id='blog-pager-home-link'>
    <a class='home-link' expr:href='data:blog.homepageUrl'><data:homeMsg/></a>
    </div>

    <div class='mobile-desktop-link'>
      <a class='home-link' expr:href='data:desktopLinkUrl'><data:desktopLinkMsg/></a>
    </div>

  </div>
  <div class='clear'/>
</b:includable>
        <b:includable id='mobile-post' var='post'>
  <div class='date-outer'>
    <b:if cond='data:post.dateHeader'>
      <h2 class='date-header'><span><data:post.dateHeader/></span></h2>
    </b:if>
    <div class='date-posts'>
      <div class='post-outer'>

        <div class='post hentry uncustomized-post-template' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'>
          <b:if cond='data:post.thumbnailUrl'>
            <meta expr:content='data:post.thumbnailUrl' itemprop='image_url'/>
          </b:if>
          <meta expr:content='data:blog.blogId' itemprop='blogId'/>
          <meta expr:content='data:post.id' itemprop='postId'/>

          <a expr:name='data:post.id'/>
          <b:if cond='data:post.title'>
            <h3 class='post-title entry-title' itemprop='name'>
              <b:if cond='data:post.link'>
                <a expr:href='data:post.link'><data:post.title/></a>
              <b:elseif cond='data:post.url and data:blog.url != data:post.url'/>
                <a expr:href='data:post.url'><data:post.title/></a>
              <b:else/>
                <data:post.title/>
              </b:if>
            </h3>
          </b:if>

          <div class='post-header'>
            <div class='post-header-line-1'/>
          </div>

          <div class='post-body entry-content' expr:id='&quot;post-body-&quot; + data:post.id' itemprop='articleBody'>
            <data:post.body/>
            <div style='clear: both;'/> <!-- clear for photos floats -->
          </div>

          <div class='post-footer'>
            <div class='post-footer-line post-footer-line-1'>
              <span class='post-author vcard'>
                <b:if cond='data:top.showAuthor'>
                  <b:if cond='data:post.authorProfileUrl'>
                    <span class='fn' itemprop='author' itemscope='itemscope' itemtype='http://schema.org/Person'>
                      <meta expr:content='data:post.authorProfileUrl' itemprop='url'/>
                      <a expr:href='data:post.authorProfileUrl' rel='author' title='author profile'>
                        <span itemprop='name'><data:post.author/></span>
                      </a>
                    </span>
                  <b:else/>
                    <span class='fn' itemprop='author' itemscope='itemscope' itemtype='http://schema.org/Person'>
                      <span itemprop='name'><data:post.author/></span>
                    </span>
                  </b:if>
                </b:if>
              </span>

              <span class='post-timestamp'>
                <b:if cond='data:top.showTimestamp'>
                  <data:top.timestampLabel/>
                  <b:if cond='data:post.url'>
                    <meta expr:content='data:post.url.canonical' itemprop='url'/>
                    <a class='timestamp-link' expr:href='data:post.url' rel='bookmark' title='permanent link'><abbr class='published' expr:title='data:post.timestampISO8601' itemprop='datePublished'><data:post.timestamp/></abbr></a>
                  </b:if>
                </b:if>
              </span>

              <span class='post-comment-link'>
                <b:include cond='data:blog.pageType not in {&quot;item&quot;,&quot;static_page&quot;}                                  and data:post.allowComments' data='post' name='comment_count_picker'/>
              </span>
            </div>

            <div class='post-footer-line post-footer-line-2'>
              <b:if cond='data:top.showMobileShare'>
                <div class='mobile-link-button goog-inline-block' id='mobile-share-button'>
                  <a href='javascript:void(0);'><data:shareMsg/></a>
                </div>
              </b:if>
            </div>

          </div>
        </div>

        <b:include cond='data:blog.pageType in {&quot;static_page&quot;,&quot;item&quot;}' data='post' name='comment_picker'/>
      </div>
    </div>
  </div>
</b:includable>
        <b:includable id='nextPageLink'>
  <a class='blog-pager-older-link' expr:href='data:olderPageUrl' expr:id='data:widget.instanceId + &quot;_blog-pager-older-link&quot;' expr:title='data:messages.olderPosts'>
    <data:messages.olderPosts/>
  </a>
</b:includable>
        <b:includable id='nextprev'>
  <div class='blog-pager' id='blog-pager'>
    <b:if cond='data:newerPageUrl'>
      <span id='blog-pager-newer-link'>
      <a class='blog-pager-newer-link' expr:href='data:newerPageUrl' expr:id='data:widget.instanceId + &quot;_blog-pager-newer-link&quot;' expr:title='data:newerPageTitle'><data:newerPageTitle/></a>
      </span>
    </b:if>

    <b:if cond='data:olderPageUrl'>
      <span id='blog-pager-older-link'>
      <a class='blog-pager-older-link' expr:href='data:olderPageUrl' expr:id='data:widget.instanceId + &quot;_blog-pager-older-link&quot;' expr:title='data:olderPageTitle'><data:olderPageTitle/></a>
      </span>
    </b:if>

    <a class='home-link' expr:href='data:blog.homepageUrl'><data:homeMsg/></a>

    <b:if cond='data:mobileLinkUrl'>
      <div class='blog-mobile-link'>
        <a expr:href='data:mobileLinkUrl'><data:mobileLinkMsg/></a>
      </div>
    </b:if>

  </div>
  <div class='clear'/>
</b:includable>
        <b:includable id='otherSharingButton'>
  <span class='sharing-platform-button sharing-element-other' expr:aria-label='data:messages.shareToOtherApps.escaped' expr:data-url='data:originalUrl' expr:title='data:messages.shareToOtherApps.escaped' role='menuitem' tabindex='-1'>
    <b:with value='{key: &quot;sharingOther&quot;}' var='platform'>
      <b:include name='sharingPlatformIcon'/>
    </b:with>
    <span class='platform-sharing-text'><data:messages.shareOtherApps.escaped/></span>
  </span>
</b:includable>
        <b:includable id='platformShare'>
  <a expr:class='&quot;goog-inline-block sharing-&quot; + data:platform.key' expr:data-url='data:originalUrl' expr:href='data:shareUrl + &quot;&amp;target=&quot; + data:platform.target' expr:onclick='data:onclick ? data:onclick : &quot;&quot;' expr:title='data:platform.shareMessage' target='_blank'>
    <span class='share-button-link-text'>
      <data:platform.shareMessage/>
    </span>
  </a>
</b:includable>
        <b:includable id='post' var='post'>
  <div class='post hentry uncustomized-post-template' itemprop='blogPost' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'>
    <b:if cond='data:post.firstImageUrl'>
      <meta expr:content='data:post.firstImageUrl' itemprop='image_url'/>
    </b:if>
    <meta expr:content='data:blog.blogId' itemprop='blogId'/>
    <meta expr:content='data:post.id' itemprop='postId'/>

    <a expr:name='data:post.id'/>
    <b:if cond='data:post.title'>
      <h3 class='post-title entry-title' itemprop='name'>
      <b:if cond='data:post.link or (data:post.url and data:blog.url != data:post.url)'>
        <a expr:href='data:post.link ? data:post.link : data:post.url'><data:post.title/></a>
      <b:else/>
        <data:post.title/>
      </b:if>
      </h3>
    </b:if>

    <div class='post-header'>
    <div class='post-header-line-1'/>
    </div>

    <!-- Then use the post body as the schema.org description, for good G+/FB snippeting. -->
    <div class='post-body entry-content' expr:id='&quot;post-body-&quot; + data:post.id' expr:itemprop='(data:blog.metaDescription ? &quot;&quot; : &quot;description &quot;) + &quot;articleBody&quot;'>
      <data:post.body/>
      <div style='clear: both;'/> <!-- clear for photos floats -->
    </div>

    <b:if cond='data:post.hasJumpLink'>
      <div class='jump-link'>
        <a expr:href='data:post.url + &quot;#more&quot;' expr:title='data:post.title'><data:post.jumpText/></a>
      </div>
    </b:if>

    <div class='post-footer'>
    <div class='post-footer-line post-footer-line-1'>
      <span class='post-author vcard'>
        <b:if cond='data:top.showAuthor'>
          <data:top.authorLabel/>
            <b:if cond='data:post.authorProfileUrl'>
              <span class='fn' itemprop='author' itemscope='itemscope' itemtype='http://schema.org/Person'>
                <meta expr:content='data:post.authorProfileUrl' itemprop='url'/>
                <a class='g-profile' expr:href='data:post.authorProfileUrl' rel='author' title='author profile'>
                  <span itemprop='name'><data:post.author/></span>
                </a>
              </span>
            <b:else/>
              <span class='fn' itemprop='author' itemscope='itemscope' itemtype='http://schema.org/Person'>
                <span itemprop='name'><data:post.author/></span>
              </span>
            </b:if>
        </b:if>
      </span>

      <span class='post-timestamp'>
        <b:if cond='data:top.showTimestamp'>
          <data:top.timestampLabel/>
          <b:if cond='data:post.url'>
            <meta expr:content='data:post.url.canonical' itemprop='url'/>
            <a class='timestamp-link' expr:href='data:post.url' rel='bookmark' title='permanent link'><abbr class='published' expr:title='data:post.timestampISO8601' itemprop='datePublished'><data:post.timestamp/></abbr></a>
          </b:if>
        </b:if>
      </span>

      <span class='post-comment-link'>
        <b:include cond='data:blog.pageType not in {&quot;item&quot;,&quot;static_page&quot;}                          and data:post.allowComments' data='post' name='comment_count_picker'/>
      </span>

      <span class='post-icons'>
        <!-- email post links -->
        <b:if cond='data:post.emailPostUrl'>
          <span class='item-action'>
          <a expr:href='data:post.emailPostUrl' expr:title='data:top.emailPostMsg'>
            <img alt='' class='icon-action' height='13' src='https://resources.blogblog.com/img/icon18_email.gif' width='18'/>
          </a>
          </span>
        </b:if>

        <!-- quickedit pencil -->
        <b:include data='post' name='postQuickEdit'/>
      </span>

      <!-- share buttons -->
      <div class='post-share-buttons goog-inline-block'>
        <b:include cond='data:post.sharePostUrl' data='post' name='shareButtons'/>
      </div>

      </div>

      <div class='post-footer-line post-footer-line-2'>
      <span class='post-labels'>
        <b:if cond='data:top.showPostLabels and data:post.labels'>
          <data:postLabelsLabel/>
          <b:loop values='data:post.labels' var='label'>
            <a expr:href='data:label.url' rel='tag'><data:label.name/></a><b:if cond='not data:label.isLast'>,</b:if>
          </b:loop>
        </b:if>
      </span>
      </div>

      <div class='post-footer-line post-footer-line-3'>
      <span class='post-location'>
        <b:if cond='data:top.showLocation and data:post.location'>
          <data:postLocationLabel/>
          <a expr:href='data:post.location.mapsUrl' target='_blank'><data:post.location.name/></a>
        </b:if>
      </span>
      </div>
      <b:if cond='data:post.authorAboutMe'>
        <div class='author-profile' itemprop='author' itemscope='itemscope' itemtype='http://schema.org/Person'>
          <b:if cond='data:post.authorPhoto.url'>
            <img expr:src='data:post.authorPhoto.url' itemprop='image' width='50px'/>
          </b:if>
          <div>
            <a class='g-profile' expr:href='data:post.authorProfileUrl' itemprop='url' rel='author' title='author profile'>
              <span itemprop='name'><data:post.author/></span>
            </a>
          </div>
          <span itemprop='description'><data:post.authorAboutMe/></span>
        </div>
      </b:if>
    </div>
  </div>
</b:includable>
        <b:includable id='postAuthor'>
  <span class='byline post-author vcard'>
    <span class='post-author-label'>
      <data:byline.label/>
    </span>
    <span class='fn'>
      <b:if cond='data:post.author.profileUrl'>
        <meta expr:content='data:post.author.profileUrl'/>
        <a class='g-profile' expr:href='data:post.author.profileUrl' rel='author' title='author profile'>
          <span><data:post.author.name/></span>
        </a>
      <b:else/>
        <span><data:post.author.name/></span>
      </b:if>
    </span>
  </span>
</b:includable>
        <b:includable id='postBody' var='post'>
  <!-- If metaDescription is empty, use the post body as the schema.org description too, for G+/FB snippeting. -->
  <div class='post-body entry-content float-container' expr:id='&quot;post-body-&quot; + data:post.id'>
    <data:post.body/>
  </div>
</b:includable>
        <b:includable id='postBodySnippet' var='post'>
  <b:include data='post' name='postBody'/>
</b:includable>
        <b:includable id='postCommentsAndAd' var='post'>
  <article class='post-outer-container'>
    <!-- Post title and body -->
    <div class='post-outer'>
      <b:include data='post' name='post'/>
    </div>

    <!-- Comments -->
    <b:include cond='data:view.isSingleItem' data='post' name='commentPicker'/>

    <!-- Show ad inside post container, after comments, if single item. -->
    <b:include cond='data:view.isSingleItem and data:post.includeAd' data='post' name='inlineAd'/>
  </article>

  <!-- Show ad outside post container (between posts) for feed pages. -->
  <b:include cond='data:view.isMultipleItems and data:post.includeAd' data='post' name='inlineAd'/>
</b:includable>
        <b:includable id='postCommentsLink'>
  <b:if cond='data:view.isMultipleItems'>
    <span class='byline post-comment-link container'>
      <b:include cond='data:post.commentSource != 1' name='commentsLink'/>
    </span>
  </b:if>
</b:includable>
        <b:includable id='postFooter' var='post'>
  <div class='post-footer'>
    <b:include name='footerBylines'/>
    <b:include data='post' name='postFooterAuthorProfile'/>
  </div>
</b:includable>
        <b:includable id='postFooterAuthorProfile' var='post'>
  <b:if cond='data:post.author.aboutMe and data:view.isPost'>
    <div class='author-profile'>
      <b:if cond='data:post.author.authorPhoto.url'>
        <img class='author-image' expr:src='data:post.author.authorPhoto.url' width='50px'/>
        <div class='author-about'>
          <b:include data='post' name='aboutPostAuthor'/>
        </div>
      <b:else/>
        <b:include data='post' name='aboutPostAuthor'/>
      </b:if>
    </div>
  </b:if>
</b:includable>
        <b:includable id='postHeader' var='post'>
  <b:include name='headerByline'/>
</b:includable>
        <b:includable id='postJumpLink' var='post'>
  <div class='jump-link flat-button'>
    <a expr:href='data:post.url fragment &quot;more&quot;' expr:title='data:post.title'>
      <b:eval expr='data:blog.jumpLinkMessage'/>
    </a>
  </div>
</b:includable>
        <b:includable id='postLabels'>
  <span class='byline post-labels'>
    <span class='byline-label'><data:byline.label/></span>
    <b:loop index='i' values='data:post.labels' var='label'>
      <a expr:href='data:label.url' rel='tag'>
        <data:label.name/>
      </a>
    </b:loop>
  </span>
</b:includable>
        <b:includable id='postLocation'>
  <span class='byline post-location'>
    <data:byline.label/>
    <a expr:href='data:post.location.mapsUrl' target='_blank'><data:post.location.name/></a>
  </span>
</b:includable>
        <b:includable id='postMeta' var='post'>
  <b:include data='post' name='postMetadataJSON'/>
</b:includable>
        <b:includable id='postMetadataJSONImage'>
  &quot;image&quot;: {
    &quot;@type&quot;: &quot;ImageObject&quot;,
    <b:if cond='data:post.featuredImage.isResizable'>
    &quot;url&quot;: &quot;<b:eval expr='resizeImage(data:post.featuredImage, 1200, &quot;1200:630&quot;)'/>&quot;,
    &quot;height&quot;: 630,
    &quot;width&quot;: 1200
    <b:else/>
    &quot;url&quot;: &quot;https://blogger.googleusercontent.com/img/b/U2hvZWJveA/AVvXsEgfMvYAhAbdHksiBA24JKmb2Tav6K0GviwztID3Cq4VpV96HaJfy0viIu8z1SSw_G9n5FQHZWSRao61M3e58ImahqBtr7LiOUS6m_w59IvDYwjmMcbq3fKW4JSbacqkbxTo8B90dWp0Cese92xfLMPe_tg11g/w1200/&quot;,
    &quot;height&quot;: 348,
    &quot;width&quot;: 1200
    </b:if>
  },
</b:includable>
        <b:includable id='postMetadataJSONPublisher'>
 &quot;publisher&quot;: {
    &quot;@type&quot;: &quot;Organization&quot;,
    &quot;name&quot;: &quot;Blogger&quot;,
    &quot;logo&quot;: {
      &quot;@type&quot;: &quot;ImageObject&quot;,
      &quot;url&quot;: &quot;https://blogger.googleusercontent.com/img/b/U2hvZWJveA/AVvXsEgfMvYAhAbdHksiBA24JKmb2Tav6K0GviwztID3Cq4VpV96HaJfy0viIu8z1SSw_G9n5FQHZWSRao61M3e58ImahqBtr7LiOUS6m_w59IvDYwjmMcbq3fKW4JSbacqkbxTo8B90dWp0Cese92xfLMPe_tg11g/h60/&quot;,
      &quot;width&quot;: 206,
      &quot;height&quot;: 60
    }
  },
</b:includable>
        <b:includable id='postPagination'>
  <div class='blog-pager container' id='blog-pager'>
    <b:include cond='data:newerPageUrl' name='previousPageLink'/>
    <b:include cond='data:olderPageUrl' name='nextPageLink'/>
    <b:include cond='data:view.url != data:blog.homepageUrl' name='homePageLink'/>
  </div>
</b:includable>
        <b:includable id='postQuickEdit' var='post'>
  <b:if cond='data:post.editUrl'>
    <span expr:class='&quot;item-control &quot; + data:post.adminClass'>
      <a expr:href='data:post.editUrl' expr:title='data:top.editPostMsg'>
        <img alt='' class='icon-action' height='18' src='https://resources.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/>
      </a>
    </span>
  </b:if>
</b:includable>
        <b:includable id='postReactions'>
  <!-- Reaction feature no longer available. The includable is retained for backwards-compatibility. -->
</b:includable>
        <b:includable id='postShareButtons'>
  <div class='byline post-share-buttons goog-inline-block'>
    <b:with value='data:sharingId ?: ((data:widget.instanceId ?: &quot;sharing&quot;) + &quot;-&quot; + (data:regionName ?: &quot;byline&quot;) + &quot;-&quot; + data:post.id)' var='sharingId'>
      <!-- Note: 'sharingButtons' includable is from the default Sharing widget markup. -->
      <b:include data='{                                                sharingId: data:sharingId,                                                originalUrl: data:post.url,                                                platforms: data:this.sharing.platforms,                                                shareUrl: data:post.shareUrl,                                                shareTitle: data:post.title,                                              }' name='sharingButtons'/>
    </b:with>
  </div>
</b:includable>
        <b:includable id='postTimestamp'>
  <span class='byline post-timestamp'>
    <data:byline.label/>
    <b:if cond='data:post.url'>
      <meta expr:content='data:post.url.canonical'/>
      <a class='timestamp-link' expr:href='data:post.url' rel='bookmark' title='permanent link'>
        <time class='published' expr:datetime='data:post.date.iso8601' expr:title='data:post.date.iso8601'>
          <data:post.date/>
        </time>
      </a>
    </b:if>
  </span>
</b:includable>
        <b:includable id='postTitle' var='post'>
  <a expr:name='data:post.id'/>
  <b:if cond='data:post.title != &quot;&quot;'>
    <h3 class='post-title entry-title'>
      <b:if cond='data:post.link or (data:post.url and data:view.url != data:post.url)'>
        <a expr:href='data:post.link ?: data:post.url'><data:post.title/></a>
      <b:else/>
        <data:post.title/>
      </b:if>
    </h3>
  </b:if>
</b:includable>
        <b:includable id='previousPageLink'>
  <a class='blog-pager-newer-link' expr:href='data:newerPageUrl' expr:id='data:widget.instanceId + &quot;_blog-pager-newer-link&quot;' expr:title='data:messages.newerPosts'>
    <data:messages.newerPosts/>
  </a>
</b:includable>
        <b:includable id='shareButtons' var='post'>
  <b:if cond='data:top.showEmailButton'><a class='goog-inline-block share-button sb-email' expr:href='data:post.sharePostUrl + &quot;&amp;target=email&quot;' expr:title='data:top.emailThisMsg' target='_blank'><span class='share-button-link-text'><data:top.emailThisMsg/></span></a></b:if><b:if cond='data:top.showBlogThisButton'><a class='goog-inline-block share-button sb-blog' expr:href='data:post.sharePostUrl + &quot;&amp;target=blog&quot;' expr:onclick='&quot;window.open(this.href, \&quot;_blank\&quot;, \&quot;height=270,width=475\&quot;); return false;&quot;' expr:title='data:top.blogThisMsg' target='_blank'><span class='share-button-link-text'><data:top.blogThisMsg/></span></a></b:if><b:if cond='data:top.showTwitterButton'><a class='goog-inline-block share-button sb-twitter' expr:href='data:post.sharePostUrl + &quot;&amp;target=twitter&quot;' expr:title='data:top.shareToTwitterMsg' target='_blank'><span class='share-button-link-text'><data:top.shareToTwitterMsg/></span></a></b:if><b:if cond='data:top.showFacebookButton'><a class='goog-inline-block share-button sb-facebook' expr:href='data:post.sharePostUrl + &quot;&amp;target=facebook&quot;' expr:onclick='&quot;window.open(this.href, \&quot;_blank\&quot;, \&quot;height=430,width=640\&quot;); return false;&quot;' expr:title='data:top.shareToFacebookMsg' target='_blank'><span class='share-button-link-text'><data:top.shareToFacebookMsg/></span></a></b:if><b:if cond='data:top.showPinterestButton'><a class='goog-inline-block share-button sb-pinterest' expr:href='data:post.sharePostUrl + &quot;&amp;target=pinterest&quot;' expr:title='data:top.shareToPinterestMsg' target='_blank'><span class='share-button-link-text'><data:top.shareToPinterestMsg/></span></a></b:if>
</b:includable>
        <b:includable id='sharingButton'>
  <span expr:aria-label='data:platform.shareMessage' expr:class='&quot;sharing-platform-button sharing-element-&quot; + data:platform.key' expr:data-href='data:shareUrl + &quot;&amp;target=&quot; + data:platform.target' expr:data-url='data:originalUrl' expr:title='data:platform.shareMessage' role='menuitem' tabindex='-1'>
    <b:include name='sharingPlatformIcon'/>
    <span class='platform-sharing-text'><data:platform.name/></span>
  </span>
</b:includable>
        <b:includable id='sharingButtonContent'>
  <div class='flat-icon-button ripple'>
    <b:include name='shareIcon'/>
  </div>
</b:includable>
        <b:includable id='sharingButtons'>
  <div class='sharing' expr:aria-owns='&quot;sharing-popup-&quot; + data:sharingId' expr:data-title='data:shareTitle'>
    <button class='sharing-button touch-icon-button' expr:aria-controls='&quot;sharing-popup-&quot; + data:sharingId' expr:aria-label='data:messages.share.escaped' expr:id='&quot;sharing-button-&quot; + data:sharingId' role='button'>
      <b:include name='sharingButtonContent'/>
    </button>
    <b:include name='sharingButtonsMenu'/>
  </div>
</b:includable>
        <b:includable id='sharingButtonsMenu'>
  <div class='share-buttons-container'>
    <ul aria-hidden='true' class='share-buttons hidden' expr:aria-label='data:messages.share.escaped' expr:id='&quot;sharing-popup-&quot; + data:sharingId' role='menu'>
      <b:loop values='(data:platforms ?: data:blog.sharing.platforms) filter (p =&gt; p.key not in {&quot;blogThis&quot;})' var='platform'>
        <li>
          <b:include name='sharingButton'/>
        </li>
      </b:loop>
      <li aria-hidden='true' class='hidden'>
        <b:include name='otherSharingButton'/>
      </li>
    </ul>
  </div>
</b:includable>
        <b:includable id='sharingPlatformIcon'>
  <b:include data='{ iconClass: (&quot;touch-icon sharing-&quot; + data:platform.key) }' expr:name='data:platform.key + &quot;Icon&quot;'/>
</b:includable>
        <b:includable id='status-message'>
  <b:if cond='data:navMessage'>
  <div class='status-msg-wrap'>
    <div class='status-msg-body'>
      <data:navMessage/>
    </div>
    <div class='status-msg-border'>
      <div class='status-msg-bg'>
        <div class='status-msg-hidden'><data:navMessage/></div>
      </div>
    </div>
  </div>
  <div style='clear: both;'/>
  </b:if>
</b:includable>
        <b:includable id='threaded-comment-form' var='post'>
  <div class='comment-form'>
    <a name='comment-form'/>
    <b:if cond='data:mobile'>
      <p><data:blogCommentMessage/></p>
      <data:blogTeamBlogMessage/>
      <a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/>
      <iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' expr:height='data:cmtIframeInitialHeight' frameborder='0' id='comment-editor' name='comment-editor' src='' style='display: none' width='100%'/>
    <b:else/>
      <p><data:blogCommentMessage/></p>
      <data:blogTeamBlogMessage/>
      <a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/>
      <iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' expr:height='data:cmtIframeInitialHeight' frameborder='0' id='comment-editor' name='comment-editor' src='' width='100%'/>
    </b:if>
    <data:post.cmtfpIframe/>
    <script type='text/javascript'>
      BLOG_CMT_createIframe(&#39;<data:post.appRpcRelayPath/>&#39;);
    </script>
  </div>
</b:includable>
        <b:includable id='threadedCommentForm' var='post'>
  <div class='comment-form'>
    <a name='comment-form'/>
    <h4 id='comment-post-message'><data:messages.postAComment/></h4>
    <b:if cond='data:this.messages.blogComment != &quot;&quot;'>
      <p><data:this.messages.blogComment/></p>
    </b:if>
    <b:include data='post' name='commentFormIframeSrc'/>
    <iframe allowtransparency='allowtransparency' class='blogger-iframe-colorize blogger-comment-from-post' expr:height='data:cmtIframeInitialHeight ?: &quot;90px&quot;' frameborder='0' id='comment-editor' name='comment-editor' src='' width='100%'/>
    <data:post.cmtfpIframe/>
    <script type='text/javascript'>
      BLOG_CMT_createIframe(&#39;<data:post.appRpcRelayPath/>&#39;);
    </script>
  </div>
</b:includable>
        <b:includable id='threadedCommentJs' var='post'>
  <script async='async' expr:src='data:post.commentSrc' type='text/javascript'/>
  <b:template-script inline='true' name='threaded_comments'/>
  <script type='text/javascript'>
    blogger.widgets.blog.initThreadedComments(
        <data:post.commentJso/>,
        <data:post.commentMsgs/>,
        <data:post.commentConfig/>);
  </script>
</b:includable>
        <b:includable id='threadedComments' var='post'>
  <section class='comments threaded' expr:data-embed='data:post.embedCommentForm' expr:data-num-comments='data:post.numberOfComments' id='comments'>
    <a name='comments'/>

    <b:include name='commentsTitle'/>

    <div class='comments-content'>
      <b:if cond='data:post.embedCommentForm'>
        <b:include data='post' name='threadedCommentJs'/>
      </b:if>
      <div id='comment-holder'>
         <data:post.commentHtml/>
      </div>
    </div>

    <p class='comment-footer'>
      <b:if cond='data:post.allowNewComments'>
        <b:include data='post' name='threadedCommentForm'/>
      <b:else/>
        <data:post.noNewCommentsText/>
      </b:if>
      <b:if cond='data:post.showManageComments'>
        <b:include data='post' name='manageComments'/>
      </b:if>
    </p>

    <b:if cond='data:showCmtPopup'>
      <div id='comment-popup'>
        <iframe allowtransparency='allowtransparency' frameborder='0' id='comment-actions' name='comment-actions' scrolling='no'>
        </iframe>
      </div>
    </b:if>
  </section>
</b:includable>
        <b:includable id='threaded_comment_js' var='post'>
  <script async='async' expr:src='data:post.commentSrc' type='text/javascript'/>

  <script type='text/javascript'>
    (function() {
      var items = <data:post.commentJso/>;
      var msgs = <data:post.commentMsgs/>;
      var config = <data:post.commentConfig/>;

// <![CDATA[
      var cursor = null;
      if (items && items.length > 0) {
        cursor = parseInt(items[items.length - 1].timestamp) + 1;
      }

      var bodyFromEntry = function(entry) {
        var text = (entry &&
                    ((entry.content && entry.content.$t) ||
                     (entry.summary && entry.summary.$t))) ||
            '';
        if (entry && entry.gd$extendedProperty) {
          for (var k in entry.gd$extendedProperty) {
            if (entry.gd$extendedProperty[k].name == 'blogger.contentRemoved') {
              return '<span class="deleted-comment">' + text + '</span>';
            }
          }
        }
        return text;
      }

      var parse = function(data) {
        cursor = null;
        var comments = [];
        if (data && data.feed && data.feed.entry) {
          for (var i = 0, entry; entry = data.feed.entry[i]; i++) {
            var comment = {};
            // comment ID, parsed out of the original id format
            var id = /blog-(\d+).post-(\d+)/.exec(entry.id.$t);
            comment.id = id ? id[2] : null;
            comment.body = bodyFromEntry(entry);
            comment.timestamp = Date.parse(entry.published.$t) + '';
            if (entry.author && entry.author.constructor === Array) {
              var auth = entry.author[0];
              if (auth) {
                comment.author = {
                  name: (auth.name ? auth.name.$t : undefined),
                  profileUrl: (auth.uri ? auth.uri.$t : undefined),
                  avatarUrl: (auth.gd$image ? auth.gd$image.src : undefined)
                };
              }
            }
            if (entry.link) {
              if (entry.link[2]) {
                comment.link = comment.permalink = entry.link[2].href;
              }
              if (entry.link[3]) {
                var pid = /.*comments\/default\/(\d+)\?.*/.exec(entry.link[3].href);
                if (pid && pid[1]) {
                  comment.parentId = pid[1];
                }
              }
            }
            comment.deleteclass = 'item-control blog-admin';
            if (entry.gd$extendedProperty) {
              for (var k in entry.gd$extendedProperty) {
                if (entry.gd$extendedProperty[k].name == 'blogger.itemClass') {
                  comment.deleteclass += ' ' + entry.gd$extendedProperty[k].value;
                } else if (entry.gd$extendedProperty[k].name == 'blogger.displayTime') {
                  comment.displayTime = entry.gd$extendedProperty[k].value;
                }
              }
            }
            comments.push(comment);
          }
        }
        return comments;
      };

      var paginator = function(callback) {
        if (hasMore()) {
          var url = config.feed + '?alt=json&v=2&orderby=published&reverse=false&max-results=50';
          if (cursor) {
            url += '&published-min=' + new Date(cursor).toISOString();
          }
          window.bloggercomments = function(data) {
            var parsed = parse(data);
            cursor = parsed.length < 50 ? null
                : parseInt(parsed[parsed.length - 1].timestamp) + 1
            callback(parsed);
            window.bloggercomments = null;
          }
          url += '&callback=bloggercomments';
          var script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = url;
          document.getElementsByTagName('head')[0].appendChild(script);
        }
      };
      var hasMore = function() {
        return !!cursor;
      };
      var getMeta = function(key, comment) {
        if ('iswriter' == key) {
          var matches = !!comment.author
              && comment.author.name == config.authorName
              && comment.author.profileUrl == config.authorUrl;
          return matches ? 'true' : '';
        } else if ('deletelink' == key) {
          return config.baseUri + '/comment/delete/'
               + config.blogId + '/' + comment.id;
        } else if ('deleteclass' == key) {
          return comment.deleteclass;
        }
        return '';
      };

      var replybox = null;
      var replyUrlParts = null;
      var replyParent = undefined;

      var onReply = function(commentId, domId) {
        if (replybox == null) {
          // lazily cache replybox, and adjust to suit this style:
          replybox = document.getElementById('comment-editor');
          if (replybox != null) {
            replybox.height = '250px';
            replybox.style.display = 'block';
            replyUrlParts = replybox.src.split('#');
          }
        }
        if (replybox && (commentId !== replyParent)) {
          replybox.src = '';
          document.getElementById(domId).insertBefore(replybox, null);
          replybox.src = replyUrlParts[0]
              + (commentId ? '&parentID=' + commentId : '')
              + '#' + replyUrlParts[1];
          replyParent = commentId;
        }
      };

      var hash = (window.location.hash || '#').substring(1);
      var startThread, targetComment;
      if (/^comment-form_/.test(hash)) {
        startThread = hash.substring('comment-form_'.length);
      } else if (/^c[0-9]+$/.test(hash)) {
        targetComment = hash.substring(1);
      }

      // Configure commenting API:
      var configJso = {
        'maxDepth': config.maxThreadDepth
      };
      var provider = {
        'id': config.postId,
        'data': items,
        'loadNext': paginator,
        'hasMore': hasMore,
        'getMeta': getMeta,
        'onReply': onReply,
        'rendered': true,
        'initComment': targetComment,
        'initReplyThread': startThread,
        'config': configJso,
        'messages': msgs
      };

      var render = function() {
        if (window.goog && window.goog.comments) {
          var holder = document.getElementById('comment-holder');
          window.goog.comments.render(holder, provider);
        }
      };

      // render now, or queue to render when library loads:
      if (window.goog && window.goog.comments) {
        render();
      } else {
        window.goog = window.goog || {};
        window.goog.comments = window.goog.comments || {};
        window.goog.comments.loadQueue = window.goog.comments.loadQueue || [];
        window.goog.comments.loadQueue.push(render);
      }
    })();
// ]]>
  </script>
</b:includable>
        <b:includable id='threaded_comments' var='post'>
  <div class='comments' id='comments'>
    <a name='comments'/>
    <h4><data:post.commentLabelFull/>:</h4>

    <div class='comments-content'>
      <b:include cond='data:post.embedCommentForm' data='post' name='threaded_comment_js'/>
      <div id='comment-holder'>
         <data:post.commentHtml/>
      </div>
    </div>

    <p class='comment-footer'>
      <b:if cond='data:post.allowNewComments'>
        <b:include data='post' name='threaded-comment-form'/>
      <b:else/>
        <data:post.noNewCommentsText/>
      </b:if>
    </p>

    <b:if cond='data:showCmtPopup'>
      <div id='comment-popup'>
        <iframe allowtransparency='true' frameborder='0' id='comment-actions' name='comment-actions' scrolling='no'>
        </iframe>
      </div>
    </b:if>

    <div id='backlinks-container'>
    <div expr:id='data:widget.instanceId + &quot;_backlinks-container&quot;'>
    </div>
    </div>
  </div>
</b:includable>
        <b:includable id='tooltipCss'>
  <!-- LINT.IfChange -->
  <style>
    .post-body a.b-tooltip-container {
      position: relative;
      display: inline-block;
    }

    .post-body a.b-tooltip-container .b-tooltip {
      display: block !important;
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translate(-20%, 1px);
      visibility: hidden;
      opacity: 0;
      z-index: 1;
      transition: opacity 0.2s ease-in-out;
    }

    .post-body a.b-tooltip-container .b-tooltip iframe {
      width: 200px;
      height: 198px;
      max-width: none;
      border: none;
      border-radius: 20px;
      box-shadow: 1px 1px 3px 1px rgba(0, 0, 0, 0.2);
    }

    @media (hover: hover) {
      .post-body a.b-tooltip-container:hover .b-tooltip {
        visibility: visible;
        opacity: 1;
      }
    }
  </style>
  <!-- LINT.ThenChange(//depot/google3/java/com/google/blogger/b2/layouts/widgets/v2-style.css) -->
</b:includable>
      </b:widget>
    </b:section>
    
</body>
</html>